<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="true">
    <title>Faraday AI - AI-Powered Educational Tools</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Faraday AI - AI-powered educational tools for teachers and students">
    <meta name="keywords" content="AI assistant, education, fitness, learning, physical education, history, math, collaboration">
    <meta name="author" content="Faraday AI">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Faraday AI - AI-Powered Educational Tools">
    <meta property="og:description" content="AI-powered educational tools for teachers and students">
    <meta property="og:image" content="/static/images/New_Coming_Soon.png">
    <meta property="og:url" content="https://faraday-ai.com">
    <meta property="og:type" content="website">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Faraday AI - AI-Powered Educational Tools">
    <meta name="twitter:description" content="AI-powered educational tools for teachers and students">
    <meta name="twitter:image" content="/static/images/New_Coming_Soon.png">
    
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/static/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/static/images/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/static/images/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/static/images/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/static/images/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon-precomposed" sizes="180x180" href="/static/images/apple-touch-icon-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/static/images/apple-touch-icon-precomposed-152x152.png">
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/static/images/apple-touch-icon-precomposed-120x120.png">
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="/static/images/apple-touch-icon-precomposed-76x76.png">
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="/static/images/apple-touch-icon-precomposed-60x60.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Faraday AI">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-user-select: none;
            user-select: none;
            -webkit-user-drag: none;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        html {
            width: 100%;
            height: 100%;
            overflow-x: hidden;
            overflow-y: auto;
            background-color: #000;
            margin: 0;
            padding: 0;
            -webkit-text-size-adjust: 100%;
            text-size-adjust: 100%;
            scroll-behavior: smooth;
        }

        body {
            width: 100%;
            min-height: 100vh;
            overflow-x: hidden;
            overflow-y: auto;
            background-color: #000;
            margin: 0;
            padding: 0;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: #000;
            z-index: 0;
            pointer-events: none;
            margin: 0;
            padding: 0;
        }

        .landing-page {
            position: relative;
            width: 100%;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            background-color: #000;
            margin: 0;
            padding: 0;
            overflow: visible;
            z-index: 1;
        }

        .landing-page::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #000;
            z-index: 1;
            pointer-events: none;
        }

        .image-container {
            position: relative;
            width: 100%;
            height: 80vh;
            overflow: hidden;
            background-color: #000;
            z-index: 3;
        }

        .landing-image {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
            object-fit: contain;
            pointer-events: none;
            margin: 0;
            padding: 0;
            display: block;
            background-color: #000;
            -webkit-transform: translate(-50%, -50%);  /* For Safari support */
        }

        .platform-overview {
            width: 100%;
            padding: 4rem 2rem;
            position: relative;
            z-index: 3;
            background: linear-gradient(180deg, rgba(0, 0, 0, 0.95) 0%, rgba(0, 0, 0, 0.98) 100%);
        }

        .overview-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .overview-title {
            font-size: 2.8em;
            font-weight: 700;
            text-align: center;
            color: #fff;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #1a73e8, #34a853);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.2;
        }

        .overview-subtitle {
            font-size: 1.3em;
            text-align: center;
            color: rgba(255, 255, 255, 0.85);
            margin-bottom: 3rem;
            line-height: 1.6;
            font-weight: 300;
        }

        .overview-content {
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.8;
        }

        .overview-section-title {
            font-size: 1.8em;
            font-weight: 600;
            color: #1a73e8;
            margin-top: 2.5rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid rgba(26, 115, 232, 0.3);
        }

        .overview-paragraph {
            font-size: 1.1em;
            line-height: 1.9;
            margin-bottom: 1.5rem;
            color: rgba(255, 255, 255, 0.9);
            text-align: justify;
        }

        .overview-paragraph strong {
            color: #1a73e8;
            font-weight: 600;
        }

        .overview-paragraph:first-of-type {
            /* Matches all other paragraphs exactly */
        }

        .overview-stats {
            display: flex;
            justify-content: center;
            gap: 4rem;
            flex-wrap: wrap;
            padding: 3rem 2rem;
            margin-top: 3rem;
            background: linear-gradient(135deg, rgba(26, 115, 232, 0.15), rgba(0, 0, 0, 0.9));
            border-radius: 15px;
            border: 1px solid rgba(26, 115, 232, 0.3);
        }

        .stat-item {
            text-align: center;
            min-width: 120px;
        }

        .stat-number {
            font-size: 3.5em;
            font-weight: 700;
            background: linear-gradient(135deg, #1a73e8, #34a853);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
            line-height: 1;
        }

        .stat-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.95em;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            font-weight: 500;
        }

        /* Carousel Styles */
        .overview-carousel {
            position: relative;
            width: 100%;
            margin-top: 2rem;
        }

        .carousel-container {
            position: relative;
            width: 100%;
            min-height: 300px;
        }

        .carousel-slide {
            display: none;
            padding: 0 1rem;
            box-sizing: border-box;
            animation: fadeIn 0.6s ease-in-out;
        }

        .carousel-slide.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .carousel-navigation {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            margin-top: 2.5rem;
            padding: 1rem 0;
        }

        .carousel-button {
            background: rgba(26, 115, 232, 0.2);
            border: 2px solid rgba(26, 115, 232, 0.5);
            color: #1a73e8;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .carousel-button:hover:not(:disabled) {
            background: rgba(26, 115, 232, 0.4);
            border-color: #1a73e8;
            transform: scale(1.1);
        }

        .carousel-button:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .carousel-dots {
            display: flex;
            gap: 0.75rem;
            align-items: center;
        }

        .carousel-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            border: 2px solid rgba(26, 115, 232, 0.5);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .carousel-dot.active {
            background: #1a73e8;
            border-color: #1a73e8;
            transform: scale(1.3);
        }

        .carousel-dot:hover {
            background: rgba(26, 115, 232, 0.6);
            border-color: #1a73e8;
        }

        .carousel-slide-number {
            text-align: center;
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.9em;
            margin-top: 1rem;
        }

        .carousel-voice-control {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .voice-button {
            background: rgba(26, 115, 232, 0.2);
            border: 2px solid rgba(26, 115, 232, 0.5);
            color: #1a73e8;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            transition: all 0.3s ease;
            font-weight: normal;
            padding: 0;
        }

        .voice-button:hover {
            background: rgba(26, 115, 232, 0.4);
            border-color: #1a73e8;
            transform: scale(1.1);
        }

        .voice-button.active {
            background: rgba(26, 115, 232, 0.6);
            border-color: #1a73e8;
            color: #fff;
        }

        .voice-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        @media (max-width: 768px) {
            .platform-overview {
                padding: 3rem 1.5rem;
            }

            .overview-title {
                font-size: 2em;
            }

            .overview-subtitle {
                font-size: 1.1em;
            }

            .overview-section-title {
                font-size: 1.5em;
                margin-top: 2rem;
            }

            .overview-paragraph {
                font-size: 1em;
                text-align: left;
            }

            .overview-paragraph:first-of-type {
                font-size: 1.05em;
                padding: 1rem;
            }

            .overview-stats {
                gap: 2rem;
                padding: 2rem 1rem;
            }

            .stat-number {
                font-size: 2.5em;
            }

            .stat-label {
                font-size: 0.85em;
            }

            .carousel-button {
                width: 40px;
                height: 40px;
                font-size: 1em;
            }

            .carousel-dot {
                width: 10px;
                height: 10px;
            }

            .carousel-slide {
                padding: 0 0.5rem;
            }
        }

        .feature-buttons {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            padding: 2rem;
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 3;
        }

        .category-container {
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .category-button {
            background: linear-gradient(135deg, #1a73e8, #0d47a1);
            color: white;
            border: none;
            border-radius: 10px;
            padding: 20px;
            margin: 0;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            width: 100%;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.2em;
            font-weight: 500;
        }

        .service-category {
            display: none;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            padding: 1rem;
            width: 100%;
            background: rgba(26, 115, 232, 0.1);
            border-radius: 10px;
            margin-top: 0.5rem;
        }

        .service-category.active {
            display: grid;
        }

        .feature-button {
            background: linear-gradient(135deg, #1a73e8, #0d47a1);
            color: white;
            border: none;
            border-radius: 10px;
            padding: 15px 20px;
            margin: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            width: 100%;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            font-size: 1.1em;
            font-weight: 500;
        }

        .feature-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(26, 115, 232, 0.3);
        }

        .feature-button h3 {
            margin: 0;
            font-size: 1.2em;
            color: white;
        }

        .feature-button p {
            margin: 0;
            font-size: 0.9em;
            line-height: 1.4;
            opacity: 0.9;
        }

        /* Hide scrollbars */
        ::-webkit-scrollbar {
            display: none;
        }

        * {
            -ms-overflow-style: none;
            scrollbar-width: none;
            outline: none;
        }

        @media (max-width: 768px) {
            .feature-buttons {
                padding: 1rem;
            }
            
            .service-category {
                grid-template-columns: 1fr;
            }
        }

        /* Newsletter Signup */
        .newsletter-signup {
            position: fixed;
            top: 60px;  /* Position below language button */
            left: 0;
            width: 300px;
            height: auto;
            min-height: 150px;
            background-color: #000000;
            padding: 10px;
            z-index: 99998;
            display: block;
            opacity: 1;
            text-align: left;
        }

        .newsletter-signup h3 {
            color: white;
            margin-bottom: 2px;  /* Reduced from 3px */
            font-size: 0.85em;  /* Reduced from 0.9em */
            display: inline-block;
            margin-right: 6px;  /* Reduced from 8px */
        }

        .newsletter-signup p {
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 2px;  /* Reduced from 3px */
            font-size: 0.75em;  /* Reduced from 0.8em */
            display: inline-block;
        }

        .newsletter-form {
            display: flex;
            flex-direction: column;
            gap: 6px;  /* Reduced from 8px */
            margin-top: 10px;  /* Reduced from 15px */
        }

        .newsletter-form input {
            width: 100%;
            padding: 4px;  /* Reduced from 6px */
            font-size: 0.75em;  /* Reduced from 0.8em */
        }

        .newsletter-form button {
            width: 100%;
            padding: 4px;  /* Reduced from 6px */
            font-size: 0.75em;  /* Reduced from 0.8em */
        }

        .newsletter-close {
            position: absolute;
            top: 8px;
            right: 8px;
        }

        .newsletter-success {
            color: #28a745;
            margin-top: 10px;
            text-align: center;
            font-size: 14px;
            font-weight: 500;
            display: none;
            padding: 5px;
            border-radius: 3px;
            background-color: rgba(40, 167, 69, 0.1);
        }

        /* Cookie Consent Banner */
        .cookie-banner {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 15px;
            display: none;
            z-index: 9997;
            text-align: center;
        }

        .cookie-banner.show {
            display: block;
        }

        .cookie-banner-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .cookie-banner p {
            margin: 0;
            flex: 1;
        }

        .cookie-banner-buttons {
            display: flex;
            gap: 10px;
        }

        .cookie-button {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .accept-cookies {
            background-color: #1a73e8;
            color: white;
        }

        .decline-cookies {
            background-color: transparent;
            border: 1px solid #1a73e8;
            color: #1a73e8;
        }

        /* Free Trial CTA Section Styles */
        .free-trial-section {
            width: 100%;
            padding: 60px 20px;
            background: linear-gradient(135deg, #1a73e8 0%, #3498db 100%);
            text-align: center;
            margin: 40px 0 0 0;
            position: relative;
            z-index: 9997;
        }

        .free-trial-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .free-trial-section h2 {
            color: #fff;
            font-size: 2.5rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .free-trial-section p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.2rem;
            margin-bottom: 2rem;
        }

        .free-trial-button {
            display: inline-block;
            background-color: #ffd700;
            color: #1a73e8;
            padding: 1rem 2.5rem;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: 700;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            position: relative;
            z-index: 9998;
        }

        .free-trial-button:hover {
            background-color: #e6c200;
            color: #1c6ea4;
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        /* SMS Opt-In Section Styles */
        .sms-optin-section {
            width: 100%;
            padding: 60px 20px;
            background: linear-gradient(135deg, rgba(26, 115, 232, 0.15) 0%, rgba(0, 0, 0, 0.9) 100%);
            text-align: center;
            margin: 40px 0 0 0;
            position: relative;
            z-index: 9997;
            border-top: 1px solid rgba(26, 115, 232, 0.3);
        }

        .sms-optin-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .sms-optin-section h2 {
            color: #fff;
            font-size: 2rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .sms-optin-section p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1rem;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .sms-optin-form {
            background-color: rgba(0, 0, 0, 0.5);
            padding: 2rem;
            border-radius: 10px;
            border: 1px solid rgba(26, 115, 232, 0.3);
            margin-top: 2rem;
        }

        .sms-optin-form-group {
            margin-bottom: 1.5rem;
            text-align: left;
        }

        .sms-optin-form-group label {
            display: block;
            color: #fff;
            font-size: 1rem;
            font-weight: 500;
            margin-bottom: 0.5rem;
        }

        .sms-optin-form-group input {
            width: 100%;
            padding: 0.75rem;
            font-size: 1rem;
            border: 1px solid rgba(26, 115, 232, 0.5);
            border-radius: 4px;
            background-color: rgba(255, 255, 255, 0.1);
            color: #fff;
            box-sizing: border-box;
        }

        .sms-optin-form-group input:focus {
            outline: none;
            border-color: #1a73e8;
            background-color: rgba(255, 255, 255, 0.15);
        }

        .sms-optin-form-group input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .sms-consent-checkbox {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            margin: 1.5rem 0;
            padding: 1rem;
            background-color: rgba(26, 115, 232, 0.1);
            border: 1px solid rgba(26, 115, 232, 0.3);
            border-radius: 8px;
        }

        .sms-consent-checkbox input[type="checkbox"] {
            margin-top: 0.25rem;
            width: 20px;
            height: 20px;
            cursor: pointer;
            flex-shrink: 0;
        }

        .sms-consent-checkbox label {
            color: #fff;
            font-size: 0.95rem;
            line-height: 1.5;
            cursor: pointer;
            font-weight: 400;
        }

        .sms-consent-checkbox label strong {
            color: #1a73e8;
            font-weight: 600;
        }

        .sms-message-types {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            margin-top: 0.5rem;
            padding-left: 1.5rem;
            line-height: 1.6;
        }

        .sms-message-types a {
            color: #1a73e8;
            text-decoration: underline;
            transition: color 0.3s ease;
        }

        .sms-message-types a:hover {
            color: #34a853;
        }

        .sms-optin-button {
            background: linear-gradient(135deg, #1a73e8, #0d47a1);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 1rem 2rem;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .sms-optin-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(26, 115, 232, 0.3);
        }

        .sms-optin-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .sms-optin-success {
            color: #28a745;
            margin-top: 1rem;
            padding: 1rem;
            background-color: rgba(40, 167, 69, 0.1);
            border: 1px solid rgba(40, 167, 69, 0.3);
            border-radius: 8px;
            display: none;
        }

        .sms-optin-success.active {
            display: block;
        }

        .sms-optin-error {
            color: #ff4444;
            margin-top: 1rem;
            padding: 1rem;
            background-color: rgba(255, 68, 68, 0.1);
            border: 1px solid rgba(255, 68, 68, 0.3);
            border-radius: 8px;
            display: none;
        }

        .sms-optin-error.active {
            display: block;
        }

        @media (max-width: 768px) {
            .sms-optin-section {
                padding: 40px 15px;
            }

            .sms-optin-section h2 {
                font-size: 1.5rem;
            }

            .sms-optin-form {
                padding: 1.5rem;
            }

            .sms-consent-checkbox {
                flex-direction: column;
                gap: 0.5rem;
            }

            .sms-consent-checkbox input[type="checkbox"] {
                margin-top: 0;
            }
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin-bottom: 1rem;
            text-align: center;
        }

        /* Footer Styles */
        .footer {
            width: 100%;
            padding: 20px;
            background-color: rgba(0, 0, 0, 0.8);
            color: #fff;
            text-align: center;
            margin-top: auto;
            position: relative;
            z-index: 9998;
            margin-bottom: 60px;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 15px;
            position: relative;
            z-index: 9998;
        }

        .social-links a {
            color: #fff;
            text-decoration: none;
            transition: color 0.3s ease;
            position: relative;
            z-index: 9998;
        }

        .social-links a:hover {
            color: #1a73e8;
        }

        .footer-links a {
            background-color: #ffd700;
            color: #3498db;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
            display: inline-block;
            position: relative;
            z-index: 9998;
        }

        .footer-links a:hover {
            background-color: #e6c200;
            color: #1c6ea4;
            transform: translateY(-2px);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.4);
        }

        .footer-text {
            font-size: 14px;
            opacity: 0.8;
            position: relative;
            z-index: 9998;
        }

        /* Accessibility Improvements */
        .feature-button:focus {
            outline: 2px solid #1a73e8;
            outline-offset: 2px;
        }

        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: #1a73e8;
            color: white;
            padding: 8px;
            z-index: 100;
        }

        .skip-link:focus {
            top: 0;
        }

        @media (max-width: 767px) {
            .newsletter-signup {
                position: fixed;
                top: 30px;
                left: 0;
                width: 100%;
                min-height: 120px;  /* Reduced for mobile */
                padding: 8px;  /* Reduced from 5px */
            }
        }

        /* Version Indicator */
        .version-indicator {
            position: fixed;
            bottom: 10px;
            right: 10px;
            background-color: rgba(0, 0, 0, 0.7);
            color: #fff;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            z-index: 9999;
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }

        .version-indicator:hover {
            opacity: 1;
        }

        /* Loading State */
        .loading-spinner {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-left-color: #1a73e8;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            display: none;
        }

        @keyframes spin {
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }

        /* Authentication Container */
        .auth-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 10000;
            display: none;
            justify-content: center;
            align-items: center;
            padding-top: 40px; /* Increased padding to move it down more */
        }

        .auth-container.active {
            display: flex !important;
        }
        
        /* Force flex display when shown via JavaScript */
        .auth-container.show {
            display: flex !important;
        }

        .auth-container > div {
            position: relative;
            width: 90%;
            max-width: 400px;
            max-height: 80vh;
            background-color: #ffffff;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(26, 115, 232, 0.3);
            overflow-y: auto;
            margin: auto;
        }

        .auth-header {
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .auth-header h2 {
            font-size: 1.5rem;
            margin-bottom: 0.8rem;
            color: #333;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #333;
            font-weight: 500;
        }

        .form-group input {
            width: 100%;
            padding: 0.75rem;
            font-size: 1rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
            background-color: #fff;
            color: #333;
        }

        .form-group input:focus {
            outline: none;
            border-color: #1a73e8;
            background-color: #fff;
            color: #333;
        }

        .form-group input::placeholder {
            color: #999;
        }

        .auth-button {
            background: #1a73e8;
            color: #ffffff;
            border: none;
            border-radius: 4px;
            padding: 0.75rem 1.5rem;
            margin: 1rem 0 0 0;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            width: 100%;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            font-size: 1rem;
            font-weight: 600;
        }

        .auth-button:hover {
            background: #1557b0;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .auth-close-button {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(0, 0, 0, 0.1);
            border: none;
            color: #333;
            font-size: 2em;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 50%;
            transition: all 0.3s ease;
            z-index: 10001;
            line-height: 1;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .auth-close-button:hover {
            background: rgba(0, 0, 0, 0.2);
            color: #000;
            transform: scale(1.1);
        }

        .auth-toggle {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .auth-toggle button {
            background: none;
            border: none;
            color: #666;
            font-size: 1.1em;
            cursor: pointer;
            padding: 0.5rem 1rem;
            transition: all 0.3s ease;
        }

        .auth-toggle button.active {
            color: #1a73e8;
            border-bottom: 2px solid #1a73e8;
            font-weight: 600;
        }

        .auth-form {
            display: none;
        }

        .auth-form.active {
            display: block !important;
        }

        /* Ensure form wrapper is visible when container is active */
        .auth-container.active > div {
            display: block !important;
        }

        .auth-error {
            color: #ff4444;
            font-size: 0.9em;
            margin-top: 0.5rem;
            display: none;
        }

        .auth-success {
            color: #00C851;
            font-size: 1.1em;
            margin-top: 1rem;
            display: none;
            padding: 15px;
            background-color: rgba(0, 200, 81, 0.1);
            border-radius: 8px;
            text-align: center;
            width: 100%;
            position: relative;
            z-index: 1000;
            border: 1px solid #00C851;
            font-weight: 500;
        }

        .auth-success.active {
            display: block;
            animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .auth-loading {
            display: none;
            text-align: center;
            margin: 1rem 0;
        }

        .auth-loading.active {
            display: block;
        }

        .auth-loading::after {
            content: '';
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #1a73e8;
            animation: spin 1s linear infinite;
        }

        @media (max-width: 767px) {
            .auth-container {
                width: 95%;
                padding: 1.5rem;
                max-height: 85vh;
            }

            .auth-toggle {
                flex-direction: column;
                gap: 0.5rem;
            }

            .auth-toggle button {
                width: 100%;
                text-align: center;
            }
        }

        /* Language Switcher */
        .language-switcher {
            position: relative;
            display: flex;
            align-items: center;
        }

        .language-switcher-container {
            display: flex;
            align-items: center;
        }

        .language-button {
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            border: 1px solid #1a73e8;
            padding: 4px 8px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            font-size: 0.7em;
        }

        .language-close {
            position: absolute;
            right: -25px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #1a73e8;
            font-size: 0.9em;
            cursor: pointer;
            padding: 2px;
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }

        .language-close:hover {
            opacity: 1;
        }

        @media (max-width: 767px) {
            .language-switcher {
                position: fixed;
                top: 8px;
                left: 8px;
                z-index: 1000;
            }

            .language-button {
                padding: 4px 8px;
                font-size: 0.7em;
                background-color: rgba(0, 0, 0, 0.7);
                color: white;
                border: 1px solid #1a73e8;
                border-radius: 4px;
                cursor: pointer;
            }

            .language-close {
                position: absolute;
                right: -20px;
                top: 50%;
                transform: translateY(-50%);
                background: none;
                border: none;
                color: #1a73e8;
                font-size: 0.9em;
                cursor: pointer;
                padding: 2px;
                opacity: 0.7;
            }
        }

        /* Language Modal Styles */
        .language-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 9999;
            display: none;
            justify-content: center;
            align-items: center;
        }

        .language-modal-content {
            background-color: rgba(0, 0, 0, 0.95);
            border: 1px solid rgba(26, 115, 232, 0.3);
            border-radius: 10px;
            padding: 30px;
            width: 90%;
            max-width: 400px;
            text-align: center;
            position: relative;
            color: white;
        }

        .language-modal-close {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            color: white;
            font-size: 1.5em;
            cursor: pointer;
            padding: 5px;
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }

        .language-modal-close:hover {
            opacity: 1;
        }

        .language-modal h3 {
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .language-modal p {
            margin-bottom: 20px;
            opacity: 0.9;
        }

        .language-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 20px;
        }

        .language-option {
            padding: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            background: none;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .language-option.active {
            border-color: #1a73e8;
            background-color: rgba(26, 115, 232, 0.2);
        }

        .language-option.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .language-option:not(.disabled):hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        /* Toast Message */
        .language-toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 12px 20px;
            border-radius: 4px;
            font-size: 14px;
            max-width: 80%;
            text-align: center;
            z-index: 10000;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(26, 115, 232, 0.3);
            animation: fadeIn 0.3s ease-in-out;
        }
        
        .language-toast.hide {
            animation: fadeOut 0.3s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translate(-50%, 20px); }
            to { opacity: 1; transform: translate(-50%, 0); }
        }
        
        @keyframes fadeOut {
            from { opacity: 1; transform: translate(-50%, 0); }
            to { opacity: 0; transform: translate(-50%, 20px); }
        }

        @media (max-width: 767px) {
            .language-switcher {
                position: fixed;
                top: 8px;
                left: 8px;
                z-index: 1000;
            }
        }

        .auth-button-container {
            position: fixed;
            top: 8px;
            right: 8px;
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .sms-subscribe-button {
            padding: 4px 8px;
            font-size: 0.7em;
            background-color: transparent;
            color: #1a73e8;
            border: 1px solid #1a73e8;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .sms-subscribe-button:hover {
            background-color: rgba(26, 115, 232, 0.1);
            transform: translateY(-1px);
        }

        .auth-button {
            padding: 4px 8px;
            font-size: 0.7em;
            background-color: transparent;
            color: #1a73e8;
            border: 1px solid #1a73e8;
            border-radius: 4px;
            cursor: pointer;
            max-width: 100px;
            transition: all 0.3s ease;
        }

        .auth-button:hover {
            background-color: rgba(26, 115, 232, 0.1);
        }

        .auth-close {
            background: none;
            border: none;
            color: #1a73e8;
            font-size: 0.9em;
            cursor: pointer;
            padding: 2px;
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }

        .auth-close:hover {
            opacity: 1;
        }

        @media (max-width: 767px) {
            .auth-button-container {
                position: fixed;
                top: 8px;
                right: 8px;
                z-index: 1000;
                display: flex;
                align-items: center;
                gap: 8px;
                flex-wrap: wrap;
            }

            .sms-subscribe-button {
                padding: 4px 8px;
                font-size: 0.65em;
            }

            .auth-button {
                padding: 4px 8px;
                font-size: 0.7em;
                background-color: transparent;
                color: #1a73e8;
                border: 1px solid #1a73e8;
                border-radius: 4px;
                cursor: pointer;
                max-width: 100px;
                transition: all 0.3s ease;
            }

            .auth-button:hover {
                background-color: rgba(26, 115, 232, 0.1);
            }

            .auth-close {
                background: none;
                border: none;
                color: #1a73e8;
                font-size: 0.9em;
                cursor: pointer;
                padding: 2px;
                opacity: 0.7;
                transition: opacity 0.3s ease;
            }

            .auth-close:hover {
                opacity: 1;
            }
        }
    </style>
</head>
<body>
    <!-- Skip Link for Accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Language Switcher -->
    <div class="language-switcher" id="languageSwitcher">
        <div class="language-switcher-container">
            <button class="language-button" onclick="toggleLanguage()">
                <i class="fas fa-globe"></i> EN
            </button>
        </div>
        <button class="language-close" onclick="closeLanguage()">&times;</button>
    </div>

    <!-- Newsletter Signup -->
    <div class="newsletter-signup" id="newsletterSignup">
        <button class="newsletter-close" onclick="closeNewsletter()">&times;</button>
        <h3>Newsletter</h3>
        <p>Subscribe to our newsletter for updates and announcements!</p>
        <form class="newsletter-form" onsubmit="handleNewsletterSubmit(event)">
            <input type="email" placeholder="Enter your email" required>
            <button type="submit">Subscribe</button>
            <div class="newsletter-success" style="display: none;"></div>
        </form>
    </div>

    <!-- Language Selection Modal -->
    <div id="languageModal" class="language-modal">
        <div class="language-modal-content">
            <button class="language-modal-close" onclick="closeLanguageModal()">&times;</button>
            <h3>Language Selection</h3>
            <p>Coming Soon! Additional languages will be available shortly.</p>
            <div class="language-options">
                <button class="language-option active">English</button>
                <button class="language-option disabled">Español</button>
                <button class="language-option disabled">Français</button>
                <button class="language-option disabled">Deutsch</button>
                <button class="language-option disabled">中文</button>
            </div>
        </div>
    </div>

    <div class="landing-page">
        <div class="grid-overlay"></div>
        <div class="auth-button-container">
            <a href="#sms-optin" class="sms-subscribe-button">Subscribe to SMS</a>
            <button class="auth-button" onclick="showAuthForm()">Login / Register</button>
        </div>
        <div class="image-container">
            <div class="loading-spinner" id="loadingSpinner"></div>
            <img src="/static/images/New_Coming_Soon.png?v=2" 
                 alt="Faraday AI Coming Soon" 
                 class="landing-image" 
                 onerror="this.onerror=null; this.src='/static/images/coming-soon.png';"
                 onload="document.getElementById('loadingSpinner').style.display='none'"
                 role="img">
        </div>
        
        <!-- Platform Overview Section -->
        <div class="platform-overview" id="platform-overview">
            <div class="overview-container">
                <h2 class="overview-title">The Complete AI Ecosystem for Modern Education</h2>
                <p class="overview-subtitle">AI Assistants for Every Role • Save 10-15 Hours Per Week • Transform Your Entire School</p>
                
                <div class="overview-carousel">
                    <div class="carousel-container" id="overviewCarousel">
                        <!-- Slide 1: Introduction -->
                        <div class="carousel-slide active">
                            <div class="overview-content">
                                <p class="overview-paragraph">
                                    <strong>Welcome to the future of education.</strong> Faraday AI isn't just a platform—it's a complete AI ecosystem designed to transform every aspect of your school. From teachers and administrators to students and parents, everyone gets their own intelligent assistant tailored to their unique needs. Imagine a school where every teacher has an AI partner for their subject, every student has a personalized tutor, every administrator has an AI assistant, and every parent has a dedicated liaison—all working together seamlessly. That's Faraday AI.
                                </p>
                            </div>
                        </div>

                        <!-- Slide 2: AI Assistants for Teachers -->
                        <div class="carousel-slide">
                            <div class="overview-content">
                                <h3 class="overview-section-title">AI Assistants for Every Teacher, Every Subject</h3>
                                <p class="overview-paragraph">
                                    <strong>Have a real conversation with your AI teaching partner.</strong> This isn't typing commands or clicking through menus—it's having a natural conversation with an intelligent avatar that understands context, remembers your preferences, and controls everything through dialogue. Simply talk to your AI assistant like you would talk to a colleague: "Create a lesson plan on quadratic equations for my Algebra 2 class," or "Show me which students are struggling with fractions," or "Generate a rubric for the lab report due Friday." Your assistant understands what you need and handles it instantly, controlling all 39 widgets, accessing all student data, and managing your entire classroom through conversation.
                                </p>
                                <p class="overview-paragraph">
                                    <strong>Subject-specific AI assistants that know your curriculum inside and out.</strong> Whether you teach Math, Science, History, Language Arts, Physical Education, or any other subject, you have a dedicated AI assistant with an avatar that becomes your teaching partner. Our <strong>Math Teacher Assistant</strong> generates problem sets, creates visualizations, and provides step-by-step explanations—all through natural conversation. Our <strong>Science Teacher Assistant</strong> helps plan labs, explains complex concepts, and suggests hands-on activities—just ask, and it handles everything. Our <strong>History Teacher Assistant</strong> curates primary sources, creates engaging timelines, and helps students analyze historical events—all while you have a conversation. Our <strong>Language Arts Assistant</strong> supports writing instruction, literature analysis, and grammar lessons—through dialogue, not data entry. And our <strong>Physical Education Assistant</strong> manages 39 specialized widgets covering everything from lesson planning to safety management—all controlled by your voice or text conversation.
                                </p>
                                <p class="overview-paragraph">
                                    <strong>Every assistant saves you 10-15 hours per week</strong> by automating lesson planning, generating assessments, creating rubrics, tracking student progress, and handling administrative tasks—all through simple conversation. But more importantly, they help you teach better. Your AI assistant understands curriculum standards, knows your students' learning patterns, and provides insights that help you personalize instruction—all while you have a natural conversation with an avatar that feels like a real teaching partner. They don't replace you—they amplify your impact through intelligent conversation that makes teaching easier and more effective.
                                </p>
                            </div>
                        </div>

                        <!-- Slide 3: AI Tutors for Students -->
                        <div class="carousel-slide">
                            <div class="overview-content">
                                <h3 class="overview-section-title">AI Tutors for Every Student</h3>
                                <p class="overview-paragraph">
                                    <strong>Have a real conversation with your personal academic assistant.</strong> Your AI tutor isn't just an app you use—it's an intelligent avatar you talk to like a friend or mentor. Simply have a natural conversation: "What assignments are due this week?" or "Help me study for my math test on Friday," or "Create a study plan to improve my science grade." Your tutor avatar understands what you need, tracks everything automatically, and manages your entire academic life through conversation. No need to navigate complex interfaces or remember where things are—just talk, and your avatar handles it all.
                                </p>
                                <p class="overview-paragraph">
                                    <strong>Your personal academic assistant, available 24/7.</strong> Every student gets an AI tutor avatar that does far more than answer questions—it's a complete academic management system you control through conversation. Your AI tutor tracks all assessments, due dates, tests, and quizzes across every subject, ensuring you never miss an assignment—just ask "What's due this week?" and it tells you everything. It creates personalized study guides tailored to your learning style and upcoming exams—simply say "Help me prepare for my history test" and it generates everything you need. It helps you set academic goals and creates actionable plans to achieve them—have a conversation about your goals, and your avatar creates the plan. And it connects to your calendar, sending reminders and notifications so you stay organized and on track—all managed through natural dialogue.
                                </p>
                                <p class="overview-paragraph">
                                    <strong>Personalized learning support that adapts to you.</strong> Struggling with algebra? Just tell your math tutor avatar "I don't understand quadratic equations" and it breaks it down step-by-step, creates practice problems at your level, and explains it in ways that make sense to you—all through conversation. Need help with a science lab report? Your science tutor avatar provides structure, feedback, and helps you understand the concepts—just describe what you're working on, and it guides you. Preparing for a history exam? Your history tutor avatar generates comprehensive study guides, creates practice quizzes, and identifies areas where you need more review—simply ask, and it handles everything. The AI tutors learn your learning patterns through your conversations, identify knowledge gaps, and provide targeted support that helps you succeed.
                                </p>
                                <p class="overview-paragraph">
                                    <strong>Stay organized, stay ahead.</strong> Your AI tutor avatar keeps track of everything through your conversations: upcoming tests, assignment due dates, project deadlines, and quiz schedules. It creates study schedules that fit your calendar, sends reminders before important deadlines, and helps you prioritize your work—all managed by talking to your avatar. When you set a goal—like improving your math grade or preparing for the SAT—just tell your tutor, and it creates a step-by-step action plan with milestones and checkpoints. Parents love seeing their children stay organized and on track, and teachers appreciate students who arrive prepared and never miss deadlines—all made possible through natural conversation with an intelligent avatar.
                                </p>
                            </div>
                        </div>

                        <!-- Slide 4: AI Assistants for Administrators -->
                        <div class="carousel-slide">
                            <div class="overview-content">
                                <h3 class="overview-section-title">AI Assistants for School Administrators & Staff</h3>
                                <p class="overview-paragraph">
                                    <strong>Have a real conversation with your administrative partner.</strong> School administrators and staff don't need to learn complex software or navigate multiple systems—they simply have a conversation with their AI assistant avatar. Tell your admin assistant: "Show me the attendance trends for this month," or "Generate a compliance report for the district," or "What resources do we need for next semester?" Your avatar understands the context, accesses all the data, generates reports, and handles everything through natural dialogue. It's like having a knowledgeable colleague you can talk to anytime.
                                </p>
                                <p class="overview-paragraph">
                                    <strong>Streamline operations, improve efficiency, make better decisions.</strong> School administrators have an <strong>AI Admin Assistant</strong> avatar that handles scheduling, coordinates staff, manages communications, tracks compliance, generates reports, and provides predictive analytics for resource allocation—all through conversation. Secretaries have AI avatar support for document management, communication, and administrative tasks—just describe what you need, and your avatar handles it. Every school employee gets an AI assistant avatar tailored to their role, reducing administrative burden and freeing time for what matters most—all controlled through natural conversation, not complex interfaces.
                                </p>
                                <p class="overview-paragraph">
                                    <strong>Data-driven decision making at the district level.</strong> Your admin assistant avatar provides comprehensive analytics through conversation, helping you understand school-wide trends, predict resource needs, identify at-risk students early, and make informed decisions about curriculum, staffing, and programs. Simply ask questions like "Which students are at risk this semester?" or "What are our staffing needs for next year?" and your avatar analyzes the data from <strong>545 database tables</strong> and provides insights in plain language. The platform scales from single schools to entire districts, providing insights that were previously impossible to gather—all accessible through natural conversation with your intelligent avatar.
                                </p>
                            </div>
                        </div>

                        <!-- Slide 5: AI Liaison for Parents -->
                        <div class="carousel-slide">
                            <div class="overview-content">
                                <h3 class="overview-section-title">AI Liaison for Every Parent</h3>
                                <p class="overview-paragraph">
                                    <strong>Have a real conversation with your school connection.</strong> Parents don't need to navigate school websites or remember which app to use—they simply talk to their <strong>AI Parent Liaison</strong> avatar in their preferred language. Ask your liaison: "How is my child doing in math?" or "What assignments are due this week?" or "Can you schedule a conference with my child's teacher?" Your avatar understands your questions, accesses your child's information, translates everything into your language, and provides answers through natural conversation. It's like having a personal school representative available 24/7.
                                </p>
                                <p class="overview-paragraph">
                                    <strong>Bridge the gap between home and school.</strong> Parents get their own <strong>AI Parent Liaison</strong> avatar that keeps them informed about their child's progress, translates communications into their preferred language, answers questions about school policies and procedures, schedules parent-teacher conferences, and provides insights into how they can support their child's learning at home—all through natural conversation. The liaison avatar understands each family's communication preferences, cultural context, and language needs through your conversations, ensuring every parent feels connected and informed, regardless of language barriers or technical comfort.
                                </p>
                                <p class="overview-paragraph">
                                    <strong>Automated updates, personalized communication.</strong> Your parent liaison avatar proactively provides timely updates about your child's achievements, areas for improvement, upcoming assignments, and school events—all in your preferred language and format, delivered through conversation. The AI liaison avatar handles routine questions through dialogue, freeing teachers and administrators to focus on more complex issues. Simply ask "What did my child accomplish this week?" or "How can I help with homework?" and your avatar provides personalized, actionable information. Stronger home-school connections lead to better student outcomes, and our AI liaison avatar makes those connections easier to build and maintain through natural, accessible conversation.
                                </p>
                            </div>
                        </div>

                        <!-- Slide 6: One Platform -->
                        <div class="carousel-slide">
                            <div class="overview-content">
                                <h3 class="overview-section-title">One Platform, Infinite Possibilities</h3>
                                <p class="overview-paragraph">
                                    <strong>Everything works together seamlessly.</strong> All AI assistants share data and insights, creating a comprehensive view of each student's journey. When a student struggles in math, their math tutor, math teacher assistant, and parent liaison all work together to provide coordinated support. When a teacher needs to understand a student's progress across subjects, the platform provides a unified view. When administrators need to make decisions, they have access to school-wide analytics that show the complete picture.
                                </p>
                                <p class="overview-paragraph">
                                    <strong>Enterprise-grade security and reliability.</strong> With <strong>1,405 passing tests</strong> and 100% production readiness, Faraday AI is built for scale and security. Microsoft/Azure AD integration provides single sign-on, role-based access controls ensure data privacy, and industry-standard encryption protects sensitive information. The platform integrates with Microsoft Calendar, Google Cloud Translation, and your existing communication systems—no disruption to your current workflow.
                                </p>
                            </div>
                        </div>

                        <!-- Slide 7: The Future -->
                        <div class="carousel-slide">
                            <div class="overview-content">
                                <h3 class="overview-section-title">The Future of Education, Available Today</h3>
                                <p class="overview-paragraph">
                                    <strong>We're building the complete ecosystem.</strong> Today, we offer AI assistants for Math, Science, History, Language Arts, Physical Education, and Administration. We're continuously expanding to cover every subject, every role, and every need. Soon, every teacher will have their subject-specific assistant, every student will have personalized tutors, every administrator will have AI support, and every parent will have a dedicated liaison. The future of education is AI-powered, personalized, and accessible—and it starts with Faraday AI.
                                </p>
                                <p class="overview-paragraph">
                                    <strong>Join the schools transforming education with AI.</strong> Forward-thinking districts are already using Faraday AI to revolutionize teaching, improve student outcomes, reduce administrative burden, and strengthen home-school connections. Whether you're a single teacher, a school administrator, or a district leader, our platform adapts to your needs and grows with you. Experience the difference that a complete AI ecosystem can make—start your free trial today and see why schools are choosing Faraday AI to transform education.
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Carousel Navigation -->
                    <div class="carousel-navigation">
                        <button class="carousel-button" id="carouselPrev" aria-label="Previous slide">‹</button>
                        <div class="carousel-dots" id="carouselDots"></div>
                        <button class="carousel-button" id="carouselNext" aria-label="Next slide">›</button>
                    </div>
                    <div class="carousel-slide-number">
                        <span id="currentSlide">1</span> / <span id="totalSlides">7</span>
                    </div>
                    <div class="carousel-voice-control">
                        <button class="voice-button" id="voiceToggle" aria-label="Play/Pause voice narration">🔊</button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="feature-buttons" id="main-content" role="main">
            <!-- Teacher/Admin Assistants Category -->
            <div class="category-container">
                <button class="category-button" onclick="window.location.href='/static/services/teacher-admin.html'">
                    <h3>Teacher/Admin Assistants</h3>
                    <p>AI-powered tools for educators and administrators</p>
                </button>
            </div>

            <!-- Student Tutors Category -->
            <div class="category-container">
                <button class="category-button" onclick="window.location.href='/static/services/student-tutors.html'">
                    <h3>Student Tutors</h3>
                    <p>AI-powered learning assistants</p>
                </button>
            </div>

            <!-- Additional Services Category -->
            <div class="category-container">
                <button class="category-button" onclick="window.location.href='/static/services/additional-services.html'">
                    <h3>Additional Services</h3>
                    <p>General educational tools and resources</p>
                </button>
            </div>
        </div>

        <!-- Free Trial CTA Section -->
        <div class="free-trial-section">
            <div class="free-trial-content">
                <h2>Ready to Get Started?</h2>
                <p>Try our Guest Dashboard and explore all features for free</p>
                <a href="/dashboard" class="free-trial-button">Start Free Trial</a>
            </div>
        </div>

        <!-- SMS Opt-In Section -->
        <div class="sms-optin-section" id="sms-optin">
            <div class="sms-optin-content">
                <h2>Stay Connected via SMS</h2>
                <p>Receive important educational updates, account alerts, and messages from your child's teacher/school directly to your phone</p>
                
                <form class="sms-optin-form" id="smsOptInForm" onsubmit="handleSMSOptIn(event)">
                    <div class="sms-optin-form-group">
                        <label for="sms-phone">Phone Number</label>
                        <input 
                            type="tel" 
                            id="sms-phone" 
                            name="phone" 
                            placeholder="+1 (555) 123-4567" 
                            required
                            pattern="[\+]?[1-9][\d]{0,15}"
                            title="Please enter a valid phone number (e.g., +18774014926)"
                        >
                    </div>

                    <div class="sms-consent-checkbox">
                        <input 
                            type="checkbox" 
                            id="sms-consent" 
                            name="sms-consent" 
                            required
                            aria-required="true"
                        >
                        <label for="sms-consent">
                            <strong>I agree to receive text messages from Faraday AI for educational purposes</strong>
                            <div class="sms-message-types">
                                By checking this box, you consent to receive SMS messages from Faraday AI, LLC at the phone number provided for educational purposes. 
                                You will receive messages from your child's teacher/school including:
                                <ul style="margin: 0.5rem 0 0 1.5rem; padding: 0;">
                                    <li>Account alerts and notifications</li>
                                    <li>Educational updates and resources from your child's teacher</li>
                                    <li>Important school and classroom notifications</li>
                                    <li>Service notifications related to your child's education</li>
                                </ul>
                                Message and data rates may apply. You can opt out at any time by replying STOP. 
                                Reply HELP for assistance. This consent is separate from our <a href="https://faraday-ai.com/privacy-policy" target="_blank" rel="noopener noreferrer">Privacy Policy</a> and <a href="https://faraday-ai.com/terms-of-service" target="_blank" rel="noopener noreferrer">Terms of Service</a>.
                            </div>
                        </label>
                    </div>

                    <button type="submit" class="sms-optin-button" id="sms-optin-submit">
                        Subscribe to SMS Updates
                    </button>

                    <div class="sms-optin-success" id="sms-optin-success"></div>
                    <div class="sms-optin-error" id="sms-optin-error"></div>
                </form>

                <p style="margin-top: 1.5rem; font-size: 0.85rem; color: rgba(255, 255, 255, 0.7);">
                    Or text <a href="tel:+18774014926" style="color: #1a73e8; text-decoration: none; font-weight: 600;">+1 (877) 401-4926</a> with keywords: <strong style="color: #1a73e8;">START, YES, JOIN, SUBSCRIBE, OPTIN</strong> to opt in directly
                </p>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer" role="contentinfo">
            <div class="footer-content">
                <div class="footer-links">
                    <a href="/static/pricing.html">Pricing Options</a>
                </div>
                <div class="footer-text">
                    FARADAY-AI, LLC 2025
                </div>
                <div class="social-links">
                    <a href="https://github.com/faradayai" target="_blank" rel="noopener noreferrer" aria-label="Follow us on GitHub">
                        <i class="fab fa-github"></i>
                    </a>
                </div>
            </div>
        </footer>
    </div>

    <!-- Authentication Container -->
    <div id="auth-container" class="auth-container">
        <div>
            <button class="auth-close-button" onclick="closeAuthForm()">&times;</button>
            <div class="auth-header">
                <h2>Welcome to Faraday AI</h2>
                <div class="auth-toggle">
                    <button class="login-toggle active">Login</button>
                    <button class="register-toggle">Register</button>
                </div>
            </div>

            <!-- Login Form -->
            <form class="auth-form login-form active" onsubmit="return false;">
                <div class="form-group">
                    <label for="login-email">Email</label>
                    <input type="email" id="login-email" placeholder="Enter your email" required>
                    <div class="auth-error login-email-error"></div>
                </div>
                <div class="form-group">
                    <label for="login-password">Password</label>
                    <input type="password" id="login-password" placeholder="Enter your password" required>
                    <div class="auth-error login-password-error"></div>
                </div>
                <button type="submit" class="auth-button login-button">Login</button>
                <div class="auth-loading login-loading"></div>
                <div class="auth-success login-success"></div>
            </form>

            <!-- Registration Form -->
            <form class="auth-form register-form" onsubmit="return false;">
                <div class="form-group">
                    <label for="register-name">Full Name</label>
                    <input type="text" id="register-name" placeholder="Enter your full name" required>
                    <div class="auth-error register-name-error"></div>
                </div>
                <div class="form-group">
                    <label for="register-email">Email</label>
                    <input type="email" id="register-email" placeholder="Enter your email" required>
                    <div class="auth-error register-email-error"></div>
                </div>
                <div class="form-group">
                    <label for="register-password">Password</label>
                    <input type="password" id="register-password" placeholder="Create a password" required>
                    <div class="auth-error register-password-error"></div>
                </div>
                <div class="form-group">
                    <label for="register-confirm-password">Confirm Password</label>
                    <input type="password" id="register-confirm-password" placeholder="Confirm your password" required>
                    <div class="auth-error register-confirm-password-error"></div>
                </div>
                <button type="submit" class="auth-button register-button">Register</button>
                <div class="auth-loading register-loading"></div>
                <div class="auth-success register-success"></div>
            </form>
        </div>
    </div>

    <!-- Cookie Consent Banner -->
    <div class="cookie-banner" id="cookieBanner">
        <div class="cookie-banner-content">
            <p>We use cookies to enhance your experience. By continuing to visit this site you agree to our use of cookies.</p>
            <div class="cookie-banner-buttons">
                <button class="cookie-button accept-cookies" onclick="acceptCookies()">Accept</button>
                <button class="cookie-button decline-cookies" onclick="declineCookies()">Decline</button>
            </div>
        </div>
    </div>

    <!-- Version Indicator -->
    <div class="version-indicator" role="status">v1.0.0</div>

    <!-- Font Awesome for social icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <script>
        // Define showAuthForm and closeAuthForm BEFORE auth.js and services.js load
        // to ensure they work with the embedded form
        // Always define this version to take precedence over auth.js
        window.showAuthForm = function() {
                console.log('showAuthForm() called');
                const authContainer = document.getElementById('auth-container') || document.querySelector('.auth-container');
                console.log('showAuthForm - authContainer found:', !!authContainer);
                if (authContainer) {
                    // Use requestAnimationFrame to ensure this runs after any other style changes
                    requestAnimationFrame(function() {
                        // Force display: flex with highest priority
                        authContainer.style.setProperty('display', 'flex', 'important');
                        // Add both active and show classes
                        authContainer.classList.add('active', 'show');
                        document.body.style.overflow = 'hidden';
                        
                        console.log('showAuthForm - Container display set to flex, classes added');
                        console.log('showAuthForm - Container computed display:', window.getComputedStyle(authContainer).display);
                        
                        // Use a MutationObserver to prevent inline display styles from being set to block (but allow none for closing)
                        if (!authContainer._displayObserver) {
                            const observer = new MutationObserver(function(mutations) {
                                mutations.forEach(function(mutation) {
                                    if (mutation.type === 'attributes' && mutation.attributeName === 'style') {
                                        // Only prevent display: block, allow display: none (for closing)
                                        const currentDisplay = authContainer.style.display;
                                        if (currentDisplay === 'block') {
                                            console.log('MutationObserver: Preventing display:block, forcing display:flex');
                                            authContainer.style.setProperty('display', 'flex', 'important');
                                        }
                                        // Allow display: none to pass through (for closing)
                                    }
                                });
                            });
                            observer.observe(authContainer, { attributes: true, attributeFilter: ['style'] });
                            authContainer._displayObserver = observer;
                            console.log('showAuthForm - MutationObserver attached');
                        }
                        
                        // Ensure auth form is initialized
                        if (window.initializeAuthForm) {
                            console.log('showAuthForm - Calling initializeAuthForm()');
                            window.initializeAuthForm();
                        } else {
                            console.warn('showAuthForm - initializeAuthForm not available');
                        }
                    });
                } else {
                    console.error('showAuthForm - Auth container not found!');
                }
        };

        if (typeof window.closeAuthForm !== 'function') {
            window.closeAuthForm = function() {
                console.log('closeAuthForm() called');
                const authContainer = document.getElementById('auth-container') || document.querySelector('.auth-container');
                if (authContainer) {
                    // Disconnect the observer if it exists
                    if (authContainer._displayObserver) {
                        authContainer._displayObserver.disconnect();
                        delete authContainer._displayObserver;
                        console.log('closeAuthForm - MutationObserver disconnected');
                    }
                    // Remove classes and force display: none
                    authContainer.classList.remove('active', 'show');
                    authContainer.style.setProperty('display', 'none', 'important');
                    document.body.style.overflow = 'auto';
                    console.log('closeAuthForm - Container hidden');
                } else {
                    console.error('closeAuthForm - Auth container not found!');
                }
            };
        }
    </script>
    <script src="/static/js/auth.js?v=3.1"></script>
    <script src="/static/js/services.js?v=2.0"></script>
    <script>
        // Newsletter Signup
        function closeNewsletter() {
            const newsletter = document.getElementById('newsletterSignup');
            if (newsletter) {
                newsletter.style.display = 'none';
                sessionStorage.setItem('newsletterClosed', 'true');
            }
        }

        // Handle newsletter form submission
        function handleNewsletterSubmit(event) {
            event.preventDefault();
            const emailInput = event.target.querySelector('input[type="email"]');
            const subscribeButton = event.target.querySelector('button[type="submit"]');
            const successMessage = event.target.querySelector('.newsletter-success');
            
            // Store email for future use
            const email = emailInput.value;
            localStorage.setItem('newsletter_email', email);
            
            // Disable button and show loading state
            subscribeButton.disabled = true;
            subscribeButton.innerHTML = 'Subscribing...';
            
            // Simulate loading for a moment
            setTimeout(() => {
                // Show success message
                successMessage.textContent = 'Coming Soon! Newsletter subscription will be available shortly.';
                successMessage.style.display = 'block';
                
                // Reset button
                subscribeButton.disabled = false;
                subscribeButton.innerHTML = 'Subscribe';
                
                // Clear input field
                emailInput.value = '';
                
                // Close the newsletter
                closeNewsletter();
            }, 1000);
        }

        // Initialize newsletter on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Check newsletter state
            const newsletterElement = document.getElementById('newsletterSignup');
            if (newsletterElement) {
                if (!sessionStorage.getItem('newsletterClosed')) {
                    newsletterElement.style.display = 'block';
                } else {
                    newsletterElement.style.display = 'none';
                }
            }
        });

        // SMS Opt-In Form Handler
        function handleSMSOptIn(event) {
            event.preventDefault();
            
            const form = document.getElementById('smsOptInForm');
            const phoneInput = document.getElementById('sms-phone');
            const consentCheckbox = document.getElementById('sms-consent');
            const submitButton = document.getElementById('sms-optin-submit');
            const successDiv = document.getElementById('sms-optin-success');
            const errorDiv = document.getElementById('sms-optin-error');
            
            // Hide previous messages
            successDiv.classList.remove('active');
            errorDiv.classList.remove('active');
            
            // Validate consent checkbox
            if (!consentCheckbox.checked) {
                errorDiv.textContent = 'You must agree to receive text messages to continue.';
                errorDiv.classList.add('active');
                return;
            }
            
            // Get and format phone number
            let phoneNumber = phoneInput.value.trim();
            
            // Remove common formatting characters
            phoneNumber = phoneNumber.replace(/[\s\-\(\)]/g, '');
            
            // Ensure it starts with + if it doesn't already
            if (!phoneNumber.startsWith('+')) {
                // If it starts with 1, add +
                if (phoneNumber.startsWith('1') && phoneNumber.length === 11) {
                    phoneNumber = '+' + phoneNumber;
                } else if (phoneNumber.length === 10) {
                    // Assume US number, add +1
                    phoneNumber = '+1' + phoneNumber;
                } else {
                    phoneNumber = '+' + phoneNumber;
                }
            }
            
            // Disable submit button
            submitButton.disabled = true;
            submitButton.textContent = 'Subscribing...';
            
            // Call the API to opt-in
            fetch('/api/v1/sms/opt-in', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    phone_number: phoneNumber,
                    source: 'homepage',
                    message_types: [
                        'account_alerts',
                        'educational_updates',
                        'product_announcements',
                        'service_notifications'
                    ]
                })
            })
            .then(response => {
                if (!response.ok) {
                    return response.json().then(err => {
                        throw new Error(err.detail || err.message || 'Failed to subscribe');
                    });
                }
                return response.json();
            })
            .then(data => {
                if (data.success) {
                    // Store phone number and consent in localStorage for reference
                    localStorage.setItem('sms_phone', phoneNumber);
                    localStorage.setItem('sms_consent', 'true');
                    localStorage.setItem('sms_consent_date', new Date().toISOString());
                    
                    // Show success message
                    const message = data.confirmation_sent 
                        ? 'Success! You have been subscribed to SMS updates. A confirmation message has been sent to your phone.'
                        : data.message || 'Success! You have been subscribed to SMS updates.';
                    successDiv.textContent = message;
                    successDiv.classList.add('active');
                    
                    // Reset form
                    form.reset();
                    
                    // Scroll to success message
                    successDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                } else {
                    throw new Error(data.message || 'Failed to subscribe');
                }
            })
            .catch(error => {
                console.error('SMS opt-in error:', error);
                errorDiv.textContent = error.message || 'An error occurred while subscribing. Please try again later.';
                errorDiv.classList.add('active');
                errorDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            })
            .finally(() => {
                // Re-enable submit button
                submitButton.disabled = false;
                submitButton.textContent = 'Subscribe to SMS Updates';
            });
        }

        // Overview Carousel Functionality
        function initOverviewCarousel() {
            const carousel = document.getElementById('overviewCarousel');
            const slides = carousel.querySelectorAll('.carousel-slide');
            const prevButton = document.getElementById('carouselPrev');
            const nextButton = document.getElementById('carouselNext');
            const dotsContainer = document.getElementById('carouselDots');
            const currentSlideSpan = document.getElementById('currentSlide');
            const totalSlidesSpan = document.getElementById('totalSlides');
            const voiceToggle = document.getElementById('voiceToggle');
            const voiceButtonText = document.getElementById('voiceButtonText');
            
            let currentSlideIndex = 0;
            const totalSlides = slides.length;
            let autoPlayInterval = null;
            const autoPlayDelay = 8000; // 8 seconds per slide
            let isPaused = false;
            
            // Voice functionality - Using Azure TTS (Jasper's voice from dashboard)
            let voiceEnabled = false;
            let currentAudio = null;
            let hasUserInteraction = false;
            let manuallyPaused = false;
            let recentButtonClick = false; // Track if a button was recently clicked
            
            // Get voice settings from localStorage (same as dashboard)
            function getVoiceSettings() {
                // Always use voice ID '7' (Christopher/Jasper) for homepage carousel
                // This ensures consistent voice regardless of dashboard settings
                const selectedVoiceId = '7';
                
                // Get speed from localStorage (default: 1%)
                const speedPercent = parseFloat(localStorage.getItem('voice_speed') || '1');
                // Clamp speed to valid range (1-100)
                const clampedSpeed = Math.max(1, Math.min(100, speedPercent));
                // Convert frontend speed (1-100%) to backend rate (0.2-2.0)
                // Formula: rate = 0.2 + (speed_percent - 1) * 1.8 / 99
                const voiceSpeed = 0.2 + (clampedSpeed - 1) * 1.8 / 99;
                
                // Get pitch from localStorage (default: 100%)
                const pitchPercent = parseFloat(localStorage.getItem('voice_pitch') || '100');
                // Convert percentage to decimal (100% = 1.0)
                const pitchDecimal = pitchPercent / 100;
                // Azure TTS pitch is in semitones (-50 to +50)
                // Dashboard conversion: pitch = ((pitchDecimal - 1) * 50)
                // This maps: 0.5 (50%) → -25 semitones, 1.0 (100%) → 0 semitones, 2.0 (200%) → +50 semitones
                const voicePitch = (pitchDecimal - 1) * 50;
                
                return {
                    voiceId: selectedVoiceId,
                    rate: voiceSpeed,
                    pitch: voicePitch
                };
            }
            
            // Extract text from a slide
            function getSlideText(slide) {
                const content = slide.querySelector('.overview-content');
                if (!content) return '';
                
                // Get all text content, excluding script and style tags
                const clone = content.cloneNode(true);
                const scripts = clone.querySelectorAll('script, style');
                scripts.forEach(el => el.remove());
                
                // Get text and clean it up
                let text = clone.textContent || clone.innerText || '';
                text = text.trim().replace(/\s+/g, ' ');
                
                return text;
            }
            
            // Stop speech
            function stopSpeech(clearManuallyPaused = false) {
                if (currentAudio) {
                    console.log('🛑 stopSpeech called, stopping audio:', {
                        paused: currentAudio.paused,
                        currentTime: currentAudio.currentTime,
                        ended: currentAudio.ended
                    });
                    
                    // Remove all event listeners to prevent callbacks
                    currentAudio.onended = null;
                    currentAudio.onerror = null;
                    currentAudio.onplay = null;
                    currentAudio.onpause = null;
                    
                    // Stop and clean up audio
                    try {
                        currentAudio.pause();
                        currentAudio.currentTime = 0;
                        // Clear source to fully stop
                        const audioSrc = currentAudio.src;
                        currentAudio.src = '';
                        currentAudio.load(); // Force reload with empty source
                        
                        // Clean up the object URL if it exists
                        if (audioSrc && audioSrc.startsWith('blob:')) {
                            URL.revokeObjectURL(audioSrc);
                        }
                    } catch (e) {
                        console.warn('Error stopping audio:', e);
                    }
                    
                    // CRITICAL: Set to null immediately to prevent race conditions
                    currentAudio = null;
                    console.log('✅ Audio stopped and cleared');
                }
                // Update button to speaker icon
                if (voiceToggle) {
                    voiceToggle.classList.remove('active');
                    voiceToggle.textContent = '🔊';
                }
                // Clear manuallyPaused flag if requested (for auto-advance)
                if (clearManuallyPaused) {
                    manuallyPaused = false;
                }
            }
            
            // Speak text using Azure TTS (Jasper's voice)
            async function speakText(text) {
                if (!text) return;
                
                // CRITICAL: Cancel any Web Speech API that might be playing (digital voice)
                if ('speechSynthesis' in window) {
                    try {
                        window.speechSynthesis.cancel();
                        console.log('🔇 Cancelled any Web Speech API (digital voice)');
                    } catch (e) {
                        console.warn('Error cancelling Web Speech API:', e);
                    }
                }
                
                // CRITICAL: Stop any current speech and wait a moment to ensure it's fully stopped
                if (currentAudio) {
                    console.log('🛑 Stopping existing audio before starting new speech');
                    stopSpeech();
                    // Small delay to ensure audio is fully stopped before starting new one
                    await new Promise(resolve => setTimeout(resolve, 150));
                } else {
                    stopSpeech(); // Still call to update button state
                }
                
                try {
                    // Update button state to show loading
                    if (voiceToggle) {
                        voiceToggle.classList.add('active');
                        voiceToggle.textContent = '⏸️';
                    }
                    
                    // Get voice settings (matching dashboard defaults)
                    const voiceSettings = getVoiceSettings();
                    
                    // Use voice-sample endpoint (same as dashboard) which handles voice_id mapping
                    // This ensures we get the exact same voice as the dashboard (voice_id 7 = Christopher)
                    const params = new URLSearchParams({
                        voice_id: voiceSettings.voiceId,
                        text: text.substring(0, 10000), // Limit text length like dashboard
                        rate: voiceSettings.rate.toString(),
                        pitch: voiceSettings.pitch.toString()
                    });
                    
                    const response = await fetch(`/api/v1/text-to-speech/voice-sample?${params.toString()}`, {
                        method: 'POST'
                    });
                    
                    if (!response.ok) {
                        throw new Error(`TTS API error: ${response.status}`);
                    }
                    
                    // Get audio blob
                    const audioBlob = await response.blob();
                    const audioUrl = URL.createObjectURL(audioBlob);
                    
                    // Create audio element
                    currentAudio = new Audio(audioUrl);
                    
                    // Event handlers
                    currentAudio.onended = () => {
                        console.log('🎵 Audio ended, checking auto-advance conditions:', {
                            voiceEnabled: voiceEnabled,
                            isPaused: isPaused,
                            manuallyPaused: manuallyPaused,
                            hasUserInteraction: hasUserInteraction,
                            currentSlideIndex: currentSlideIndex
                        });
                        
                        // Store reference before cleanup
                        const shouldAdvance = voiceEnabled && !isPaused && !manuallyPaused && hasUserInteraction;
                        
                        URL.revokeObjectURL(audioUrl);
                        currentAudio = null;
                        
                        // Update button to speaker icon
                        if (voiceToggle) {
                            voiceToggle.classList.remove('active');
                            voiceToggle.textContent = '🔊';
                        }
                        
                        // Advance to next slide when audio finishes
                        // Only check voiceEnabled and manuallyPaused - ignore isPaused (hover pause shouldn't block audio completion)
                        if (voiceEnabled && !manuallyPaused && hasUserInteraction) {
                            console.log('✅ Auto-advancing to next slide...');
                            // Small delay before advancing
                            setTimeout(() => {
                                // Double-check conditions before advancing (ignore isPaused for audio completion)
                                // Ensure voice is still enabled (it should be, but double-check)
                                if (!voiceEnabled) {
                                    console.log('⚠️ Voice was disabled, re-enabling for auto-advance');
                                    voiceEnabled = true;
                                }
                                if (voiceEnabled && !manuallyPaused) {
                                    if (currentSlideIndex < totalSlides - 1) {
                                        currentSlideIndex++;
                                    } else {
                                        // Loop back to first slide
                                        currentSlideIndex = 0;
                                    }
                                    console.log('➡️ Advancing to slide:', currentSlideIndex + 1, {
                                        voiceEnabled,
                                        manuallyPaused,
                                        hasUserInteraction
                                    });
                                    // Ensure hasUserInteraction is still true (it should be from first interaction)
                                    if (!hasUserInteraction) {
                                        console.log('⚠️ hasUserInteraction was false, setting to true');
                                        hasUserInteraction = true;
                                    }
                                    updateSlide(true); // Will speak next slide if voice is enabled
                                } else {
                                    console.log('❌ Auto-advance blocked in setTimeout:', {
                                        voiceEnabled: voiceEnabled,
                                        manuallyPaused: manuallyPaused
                                    });
                                }
                            }, 500);
                        } else {
                            console.log('❌ Auto-advance blocked - conditions not met:', {
                                voiceEnabled: voiceEnabled,
                                isPaused: isPaused,
                                manuallyPaused: manuallyPaused,
                                hasUserInteraction: hasUserInteraction,
                                reason: !voiceEnabled ? 'voice not enabled' : 
                                        manuallyPaused ? 'manually paused' : 
                                        !hasUserInteraction ? 'no user interaction' : 'unknown'
                            });
                        }
                    };
                    
                    currentAudio.onerror = (event) => {
                        console.error('Audio playback error:', event);
                        URL.revokeObjectURL(audioUrl);
                        currentAudio = null;
                        // Update button to speaker icon
                        if (voiceToggle) {
                            voiceToggle.classList.remove('active');
                            voiceToggle.textContent = '🔊';
                        }
                    };
                    
                    // Play audio
                    await currentAudio.play();
                    
                    // Update button to pause icon
                    if (voiceToggle) {
                        voiceToggle.textContent = '⏸️';
                    }
                    
                    // Fallback: Set up a timeout to advance if onended doesn't fire
                    // This ensures auto-advance works even if the event doesn't fire
                    const audioDuration = currentAudio.duration || 0;
                    if (audioDuration > 0 && voiceEnabled && !manuallyPaused) {
                        // Set timeout slightly longer than audio duration as fallback
                        setTimeout(() => {
                            // Only advance if audio has ended and we haven't already advanced
                            if (currentAudio && (currentAudio.ended || currentAudio.paused) && voiceEnabled && !manuallyPaused && !isPaused) {
                                console.log('Fallback auto-advance triggered');
                                if (currentSlideIndex < totalSlides - 1) {
                                    currentSlideIndex++;
                                } else {
                                    currentSlideIndex = 0;
                                }
                                updateSlide(true);
                            }
                        }, (audioDuration * 1000) + 1000); // Audio duration + 1 second buffer
                    }
                } catch (error) {
                    console.error('Error synthesizing speech:', error);
                    if (voiceToggle) {
                        voiceToggle.classList.remove('active');
                        voiceToggle.textContent = '🔊';
                    }
                    // DO NOT fallback to Web Speech API - it causes digital voice issues
                    // Just log the error and let user manually retry if needed
                    console.warn('Azure TTS failed, not using Web Speech API fallback to avoid digital voice');
                }
            }
            
            // REMOVED: Fallback to Web Speech API
            // This was causing digital voice issues and double playback
            // If Azure TTS fails, we just log an error and don't use Web Speech API
            // function fallbackToWebSpeech(text) {
            //     // REMOVED - causes digital voice and double playback issues
            // }
            
            // Toggle voice play/pause
            function toggleVoice() {
                // Check if audio is actually playing (more robust check)
                const isAudioPlaying = currentAudio && 
                                      currentAudio.readyState >= 2 && // HAVE_CURRENT_DATA or higher
                                      !currentAudio.paused && 
                                      currentAudio.currentTime > 0 && 
                                      !currentAudio.ended;
                
                console.log('🔊 Toggle voice clicked:', {
                    isAudioPlaying,
                    voiceEnabled,
                    manuallyPaused,
                    hasCurrentAudio: !!currentAudio,
                    audioPaused: currentAudio ? currentAudio.paused : 'no audio',
                    audioCurrentTime: currentAudio ? currentAudio.currentTime : 'no audio',
                    audioEnded: currentAudio ? currentAudio.ended : 'no audio'
                });
                
                if (isAudioPlaying) {
                    // Pause audio - stop it completely
                    manuallyPaused = true;
                    console.log('⏸️ Manually pausing audio');
                    stopSpeech();
                    // Update button immediately
                    if (voiceToggle) {
                        voiceToggle.classList.remove('active');
                        voiceToggle.textContent = '🔊';
                    }
                } else {
                    // Play audio - speakText will handle stopping any existing audio
                    console.log('▶️ Resuming/starting audio');
                    manuallyPaused = false;
                    voiceEnabled = true;
                    
                    // Start speaking current slide
                    // speakText will stop any existing audio before starting new one
                    const currentSlide = slides[currentSlideIndex];
                    const text = getSlideText(currentSlide);
                    if (text) {
                        speakText(text);
                    }
                }
            }
            
            // Voice toggle button (speaker/pause)
            if (voiceToggle) {
                voiceToggle.addEventListener('click', (e) => {
                    // Mark that this is a voice toggle click to prevent autoplay
                    recentButtonClick = true;
                    setTimeout(() => {
                        recentButtonClick = false;
                    }, 500);
                    // Call toggleVoice - this should work even if markUserInteraction runs
                    toggleVoice();
                });
            }
            
            // Track user interaction for autoplay (like dashboard)
            // BUT: Exclude button clicks - only non-button clicks and scrolling should trigger autoplay
            const markUserInteraction = (event) => {
                // Check if the click was on a button or inside a button
                if (event && event.type === 'click') {
                    const target = event.target;
                    
                    // Walk up the DOM tree to find button or link elements
                    let currentElement = target;
                    let isButton = false;
                    let isLink = false;
                    let hasButtonClass = false;
                    
                    // Check up to 5 levels up the DOM tree
                    for (let i = 0; i < 5 && currentElement && currentElement !== document.body; i++) {
                        const tagName = currentElement.tagName;
                        const className = currentElement.className || '';
                        
                        // Check for button element
                        if (tagName === 'BUTTON') {
                            isButton = true;
                            break;
                        }
                        
                        // Check for link element (anchor tag)
                        if (tagName === 'A') {
                            isLink = true;
                            break;
                        }
                        
                        // Check for button-like classes
                        if (typeof className === 'string' && (
                            className.includes('button') ||
                            className.includes('btn') ||
                            className.includes('free-trial-button') ||
                            className.includes('auth-button') ||
                            className.includes('category-button') ||
                            className.includes('cookie-button')
                        )) {
                            hasButtonClass = true;
                            break;
                        }
                        
                        currentElement = currentElement.parentElement;
                    }
                    
                    // Also use closest as a fallback
                    const buttonElement = target.closest('button');
                    const linkElement = target.closest('a');
                    const parentWithButtonClass = target.closest('.button, .btn, .free-trial-button, .auth-button, .category-button, .cookie-button, [class*="button"], [class*="btn"]');
                    
                    // Check if this is the voice toggle button - allow it to work normally
                    const isVoiceToggle = target.id === 'voiceToggle' || 
                                         target.closest('#voiceToggle') !== null ||
                                         (buttonElement && buttonElement.id === 'voiceToggle');
                    
                    const shouldExclude = (isButton || isLink || hasButtonClass || 
                                        buttonElement !== null || 
                                        linkElement !== null || 
                                        parentWithButtonClass !== null) && !isVoiceToggle;
                    
                    if (shouldExclude) {
                        console.log('🚫 Button/link click ignored for autoplay:', {
                            targetTag: target.tagName,
                            targetClass: target.className || target.id,
                            targetHref: target.href,
                            isButton: isButton || buttonElement !== null,
                            isLink: isLink || linkElement !== null,
                            hasButtonClass: hasButtonClass || parentWithButtonClass !== null,
                            linkElement: linkElement?.tagName,
                            linkHref: linkElement?.href,
                            linkClass: linkElement?.className
                        });
                        
                        // Set flag to prevent autoplay for a short time after button click
                        recentButtonClick = true;
                        setTimeout(() => {
                            recentButtonClick = false;
                        }, 1000); // Prevent autoplay for 1 second after button click
                        
                        // CRITICAL: Don't stop propagation or prevent default for buttons/links
                        // They need to execute their onclick handlers and navigate
                        // We just return early to prevent autoplay, but let the button/link work normally
                        console.log('🚫 Button/link click - preventing autoplay but allowing button/link to work');
                        return; // Don't trigger autoplay for button/link clicks, but let them work normally
                    }
                    
                    // If it's the voice toggle button, don't trigger autoplay but allow the button to work
                    if (isVoiceToggle) {
                        console.log('🔊 Voice toggle button clicked - allowing button handler to work');
                        // Set flag to prevent autoplay
                        recentButtonClick = true;
                        setTimeout(() => {
                            recentButtonClick = false;
                        }, 500);
                        // Don't stop propagation or prevent default - let the button's own handler work
                        // Return early to prevent autoplay, but the button handler will still fire
                        return;
                    }
                }
                
                // CRITICAL: Check if a button was recently clicked (even if detection missed it)
                if (recentButtonClick) {
                    console.log('🚫 Recent button click detected, ignoring interaction');
                    return;
                }
                
                console.log('👆 User interaction detected (non-button), manuallyPaused:', manuallyPaused, 'voiceEnabled:', voiceEnabled, 'hasUserInteraction:', hasUserInteraction);
                
                // Prevent multiple simultaneous autoplay starts
                if (voiceEnabled && currentAudio && !currentAudio.paused) {
                    console.log('⏸️ Audio already playing, ignoring additional interaction');
                    return;
                }
                
                // Mark that user has interacted
                hasUserInteraction = true;
                console.log('✅ hasUserInteraction set to true');
                
                if (!manuallyPaused) {
                    // Start autoplay and voice on first interaction (only if not already enabled)
                    if (!voiceEnabled) {
                        voiceEnabled = true;
                        console.log('🎤 Voice enabled, starting to speak slide:', currentSlideIndex + 1);
                        // Start speaking current slide
                        const currentSlide = slides[currentSlideIndex];
                        const text = getSlideText(currentSlide);
                        if (text) {
                            speakText(text);
                        }
                    } else {
                        console.log('🎤 Voice already enabled, continuing autoplay');
                    }
                } else {
                    console.log('⏸️ User interaction ignored (manually paused)');
                }
            };
            
            // Track various user interactions (excluding button clicks)
            // Use capture phase to catch events before they bubble and potentially trigger navigation
            // BUT: Skip markUserInteraction entirely for buttons/links - they need to work normally
            document.addEventListener('click', (e) => {
                const target = e.target;
                
                // Only check for actual button and link elements - be precise
                const buttonElement = target.closest ? target.closest('button') : null;
                const linkElement = target.closest ? target.closest('a') : null;
                const isButton = target.tagName === 'BUTTON' || buttonElement !== null;
                const isLink = target.tagName === 'A' || linkElement !== null;
                
                // If it's a button or link, skip markUserInteraction - let it work normally
                if (isButton || isLink) {
                    console.log('🚫 Button/link click - skipping markUserInteraction, allowing button/link to work', {
                        isButton,
                        isLink,
                        targetTag: target.tagName,
                        buttonElement: buttonElement ? 'found' : 'none',
                        linkElement: linkElement ? 'found' : 'none'
                    });
                    // Set flag to prevent autoplay
                    recentButtonClick = true;
                    setTimeout(() => {
                        recentButtonClick = false;
                    }, 1000);
                    return; // Don't call markUserInteraction for buttons/links
                }
                
                // For non-button clicks, call markUserInteraction
                console.log('✅ Non-button click - calling markUserInteraction for autoplay', {
                    targetTag: target.tagName,
                    targetClass: target.className || 'none'
                });
                markUserInteraction(e);
            }, { once: false, passive: true, capture: true });
            document.addEventListener('keydown', markUserInteraction, { once: false, passive: true });
            document.addEventListener('touchstart', markUserInteraction, { once: false, passive: true });
            
            // Also track scrolling as a valid user interaction
            let scrollTimeout = null;
            document.addEventListener('scroll', () => {
                // Debounce scroll events to avoid too many calls
                if (scrollTimeout) {
                    clearTimeout(scrollTimeout);
                }
                scrollTimeout = setTimeout(() => {
                    markUserInteraction(null); // Pass null since scroll doesn't have a target element
                }, 100);
            }, { once: false, passive: true });
            
            // Stop audio when page is about to unload (navigating away)
            window.addEventListener('beforeunload', () => {
                console.log('🛑 Page unloading, stopping all audio');
                stopSpeech();
                stopAutoPlay();
                voiceEnabled = false;
            });
            
            // Stop audio when page becomes hidden (tab switch, minimize, navigate to dashboard, etc.)
            document.addEventListener('visibilitychange', () => {
                if (document.hidden) {
                    console.log('👁️ Page hidden, stopping all audio');
                    stopSpeech();
                    stopAutoPlay();
                    // Don't disable voiceEnabled here - user might come back
                }
            });
            
            // Stop audio when page is unloaded (navigating to dashboard)
            window.addEventListener('pagehide', () => {
                console.log('📄 Page hiding, stopping all audio');
                stopSpeech();
                stopAutoPlay();
                voiceEnabled = false;
            });
            
            // Also stop audio when navigating away via link clicks
            document.addEventListener('click', (e) => {
                const link = e.target.closest('a');
                if (link && link.href && !link.href.startsWith('#') && !link.href.startsWith('javascript:')) {
                    // User clicked a link that will navigate away
                    console.log('🔗 Navigation link clicked, stopping audio:', link.href);
                    stopSpeech();
                    stopAutoPlay();
                }
            }, true); // Use capture phase to catch all link clicks
            
            // Set total slides count
            totalSlidesSpan.textContent = totalSlides;
            
            // Create dots
            slides.forEach((_, index) => {
                const dot = document.createElement('div');
                dot.className = 'carousel-dot';
                if (index === 0) dot.classList.add('active');
                dot.setAttribute('aria-label', `Go to slide ${index + 1}`);
                dot.addEventListener('click', () => {
                    goToSlide(index);
                    pauseAutoPlay();
                    resumeAutoPlay();
                });
                dotsContainer.appendChild(dot);
            });
            
            // Update slide display
            function updateSlide(shouldSpeak = true) {
                slides.forEach((slide, index) => {
                    slide.classList.remove('active');
                    if (index === currentSlideIndex) {
                        slide.classList.add('active');
                    }
                });
                
                // Update dots
                const dots = dotsContainer.querySelectorAll('.carousel-dot');
                dots.forEach((dot, index) => {
                    dot.classList.toggle('active', index === currentSlideIndex);
                });
                
                // Update slide number
                currentSlideSpan.textContent = currentSlideIndex + 1;
                
                // Update button states
                prevButton.disabled = currentSlideIndex === 0;
                nextButton.disabled = currentSlideIndex === totalSlides - 1;
                
                // Speak new slide if voice is enabled and not manually paused
                if (shouldSpeak && voiceEnabled && !manuallyPaused && hasUserInteraction) {
                    console.log('🎤 updateSlide: Should speak slide', currentSlideIndex + 1, {
                        shouldSpeak,
                        voiceEnabled,
                        manuallyPaused,
                        hasUserInteraction
                    });
                    // Small delay to ensure slide is visible
                    setTimeout(() => {
                        // Double-check conditions before speaking (ignore isPaused - hover pause shouldn't block auto-advance speech)
                        if (voiceEnabled && !manuallyPaused) {
                            const currentSlide = slides[currentSlideIndex];
                            const text = getSlideText(currentSlide);
                            if (text) {
                                console.log('🎤 Speaking slide:', currentSlideIndex + 1);
                                speakText(text);
                            } else {
                                console.log('⚠️ No text found for slide:', currentSlideIndex + 1);
                            }
                        } else {
                            console.log('❌ Not speaking slide - conditions not met:', {
                                voiceEnabled,
                                manuallyPaused
                            });
                        }
                    }, 300);
                } else {
                    console.log('❌ updateSlide: Not speaking slide', currentSlideIndex + 1, {
                        shouldSpeak,
                        voiceEnabled,
                        manuallyPaused,
                        hasUserInteraction,
                        reason: !shouldSpeak ? 'shouldSpeak=false' :
                                !voiceEnabled ? 'voice not enabled' :
                                manuallyPaused ? 'manually paused' :
                                !hasUserInteraction ? 'no user interaction' : 'unknown'
                    });
                }
            }
            
            // Go to specific slide
            function goToSlide(index) {
                if (index >= 0 && index < totalSlides) {
                    // Stop current speech when manually navigating (but don't clear manuallyPaused - user might want to pause)
                    stopSpeech();
                    currentSlideIndex = index;
                    updateSlide(true);
                }
            }
            
            // Next slide (with loop)
            function nextSlide() {
                // Stop current speech when manually navigating (but don't clear manuallyPaused - user might want to pause)
                stopSpeech();
                if (currentSlideIndex < totalSlides - 1) {
                    currentSlideIndex++;
                } else {
                    // Loop back to first slide
                    currentSlideIndex = 0;
                }
                updateSlide(true);
            }
            
            // Previous slide
            function prevSlide() {
                // Stop current speech when manually navigating (but don't clear manuallyPaused - user might want to pause)
                stopSpeech();
                if (currentSlideIndex > 0) {
                    currentSlideIndex--;
                } else {
                    // Loop to last slide
                    currentSlideIndex = totalSlides - 1;
                }
                updateSlide(true);
            }
            
            // Auto-play functions
            function startAutoPlay() {
                if (autoPlayInterval) return;
                autoPlayInterval = setInterval(() => {
                    if (!isPaused && !manuallyPaused) {
                        // If voice is enabled and audio is playing, don't advance (let audio finish first)
                        // The audio onended handler will advance the slide
                        if (voiceEnabled && currentAudio && !currentAudio.paused && !currentAudio.ended) {
                            return; // Skip this interval, audio will advance when it finishes
                        }
                        // Only auto-advance if voice is disabled OR audio is not playing
                        if (!voiceEnabled || !currentAudio || currentAudio.ended || currentAudio.paused) {
                            // Don't stop speech for auto-advance, let it continue or start new
                            if (currentSlideIndex < totalSlides - 1) {
                                currentSlideIndex++;
                            } else {
                                currentSlideIndex = 0;
                            }
                            updateSlide(true); // Will speak if voice enabled
                        }
                    }
                }, autoPlayDelay);
            }
            
            function stopAutoPlay() {
                if (autoPlayInterval) {
                    clearInterval(autoPlayInterval);
                    autoPlayInterval = null;
                }
            }
            
            function pauseAutoPlay() {
                isPaused = true;
            }
            
            function resumeAutoPlay() {
                isPaused = false;
            }
            
            // Pause on hover, resume on leave
            const carouselWrapper = carousel.closest('.platform-overview');
            if (carouselWrapper) {
                carouselWrapper.addEventListener('mouseenter', () => {
                    pauseAutoPlay();
                });
                
                carouselWrapper.addEventListener('mouseleave', () => {
                    resumeAutoPlay();
                });
            }
            
            // Event listeners
            nextButton.addEventListener('click', () => {
                nextSlide();
                pauseAutoPlay();
                resumeAutoPlay();
            });
            prevButton.addEventListener('click', () => {
                prevSlide();
                pauseAutoPlay();
                resumeAutoPlay();
            });
            
            // Start auto-play
            startAutoPlay();
            
            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                if (carousel.closest('.platform-overview')) {
                    if (e.key === 'ArrowLeft') {
                        prevSlide();
                        pauseAutoPlay();
                        resumeAutoPlay();
                    } else if (e.key === 'ArrowRight') {
                        nextSlide();
                        pauseAutoPlay();
                        resumeAutoPlay();
                    }
                }
            });
            
            // Touch/swipe support for mobile
            let touchStartX = 0;
            let touchEndX = 0;
            
            carousel.addEventListener('touchstart', (e) => {
                touchStartX = e.changedTouches[0].screenX;
                pauseAutoPlay();
            }, { passive: true });
            
            carousel.addEventListener('touchend', (e) => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
                // Resume after a delay to allow user to continue swiping
                setTimeout(() => {
                    resumeAutoPlay();
                }, 3000);
            }, { passive: true });
            
            function handleSwipe() {
                const swipeThreshold = 50;
                const diff = touchStartX - touchEndX;
                
                if (Math.abs(diff) > swipeThreshold) {
                    if (diff > 0) {
                        // Swipe left - next slide
                        nextSlide();
                    } else {
                        // Swipe right - previous slide
                        prevSlide();
                    }
                }
            }
            
            // Pause auto-play when page is not visible (tab switch)
            document.addEventListener('visibilitychange', () => {
                if (document.hidden) {
                    pauseAutoPlay();
                } else {
                    resumeAutoPlay();
                }
            });
            
            // Initialize
            updateSlide();
        }
        
        // Initialize carousel when DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            if (document.getElementById('overviewCarousel')) {
                initOverviewCarousel();
            }
        });

        // Language Switcher
        function toggleLanguage() {
            const languageSwitcher = document.getElementById('languageSwitcher');
            const languageModal = document.getElementById('languageModal');
            
            if (window.innerWidth <= 767) {
                if (languageSwitcher.style.display === 'none') {
                    languageSwitcher.style.display = 'flex';
                    sessionStorage.setItem('languageButtonClosed', 'false');
                } else {
                    languageSwitcher.style.display = 'none';
                    sessionStorage.setItem('languageButtonClosed', 'true');
                }
            }
            
            // Show the language selection modal
            languageModal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        // Close language modal
        function closeLanguageModal() {
            const languageModal = document.getElementById('languageModal');
            languageModal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Close language button
        function closeLanguage() {
            const languageSwitcher = document.getElementById('languageSwitcher');
            if (languageSwitcher.style.display === 'none') {
                languageSwitcher.style.display = 'flex';
                sessionStorage.setItem('languageButtonClosed', 'false');
            } else {
                languageSwitcher.style.display = 'none';
                sessionStorage.setItem('languageButtonClosed', 'true');
            }
        }

        // Close auth button
        function closeAuth() {
            const authButton = document.querySelector('.auth-button');
            if (authButton.style.display === 'none') {
                authButton.style.display = 'block';
            } else {
                authButton.style.display = 'none';
            }
        }

        // showAuthForm and closeAuthForm are now defined before services.js loads
        // (moved to top of page before script includes)

        // Close Authentication Form when clicking outside
        document.addEventListener('click', (e) => {
            const authContainer = document.querySelector('.auth-container');
            if (e.target === authContainer) {
                closeAuthForm();
            }
            
            // Also handle language modal close when clicking outside
            const languageModal = document.getElementById('languageModal');
            if (e.target === languageModal) {
                closeLanguageModal();
            }
        });

        // Authentication Form Toggle
        const loginToggle = document.querySelector('.login-toggle');
        const registerToggle = document.querySelector('.register-toggle');
        const loginForm = document.querySelector('.login-form');
        const registerForm = document.querySelector('.register-form');
        
        function toggleForms() {
            loginForm.classList.toggle('active');
            registerForm.classList.toggle('active');
            loginToggle.classList.toggle('active');
            registerToggle.classList.toggle('active');
        }

        loginToggle.addEventListener('click', toggleForms);
        registerToggle.addEventListener('click', toggleForms);

        // Form Validation
        function showError(element, message) {
            element.textContent = message;
            element.style.display = 'block';
        }

        function hideError(element) {
            element.textContent = '';
            element.style.display = 'none';
        }

        function showSuccess(element, message) {
            element.textContent = message;
            element.style.display = 'block';
        }

        function hideSuccess(element) {
            element.textContent = '';
            element.style.display = 'none';
        }

        function showLoading(element) {
            element.classList.add('active');
        }

        function hideLoading(element) {
            element.classList.remove('active');
        }

        // Login and Registration handlers are handled by /static/js/auth.js
        // Initialize auth forms if they're already in the DOM (embedded forms)
        document.addEventListener('DOMContentLoaded', function() {
            // Ensure auth container starts hidden
            const authContainer = document.getElementById('auth-container');
            if (authContainer) {
                authContainer.style.display = 'none';
                authContainer.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
            
            // Function to initialize auth forms
            function tryInitializeAuthForms() {
                console.log('Checking for auth forms...');
                const loginForm = document.querySelector('.login-form');
                const registerForm = document.querySelector('.register-form');
                console.log('Login form found:', !!loginForm);
                console.log('Register form found:', !!registerForm);
                console.log('initializeAuthForm available:', typeof window.initializeAuthForm);
                
                if (loginForm || registerForm) {
                    // Forms are embedded, initialize them
                    if (window.initializeAuthForm) {
                        console.log('Initializing auth forms from index.html');
                        try {
                            window.initializeAuthForm();
                            console.log('initializeAuthForm() call completed');
                        } catch (error) {
                            console.error('Error calling initializeAuthForm:', error);
                        }
                    } else {
                        console.warn('initializeAuthForm not available, waiting for auth.js to load...');
                        // Retry after a short delay
                        setTimeout(function() {
                            if (window.initializeAuthForm) {
                                console.log('Retrying auth form initialization');
                                try {
                                    window.initializeAuthForm();
                                    console.log('initializeAuthForm() call completed (retry)');
                                } catch (error) {
                                    console.error('Error calling initializeAuthForm (retry):', error);
                                }
                            } else {
                                console.error('initializeAuthForm still not available after retry');
                            }
                        }, 500);
                    }
                } else {
                    console.warn('No auth forms found in DOM');
                }
            }
            
            // Wait a bit for auth.js to load, then try multiple times
            setTimeout(tryInitializeAuthForms, 200);
            setTimeout(tryInitializeAuthForms, 500);
            setTimeout(tryInitializeAuthForms, 1000);
            
            // Verify showAuthForm is available (backup check)
            if (typeof window.showAuthForm !== 'function') {
                console.error('showAuthForm is not defined after all scripts loaded!');
            }
            
            // Add direct event listener to login button as backup
            const loginButton = document.querySelector('.auth-button-container .auth-button');
            if (loginButton) {
                // Remove any existing onclick to prevent conflicts
                loginButton.removeAttribute('onclick');
                loginButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    console.log('Login button clicked - calling showAuthForm()');
                    console.log('showAuthForm type:', typeof window.showAuthForm);
                    console.log('showAuthForm value:', window.showAuthForm);
                    if (typeof window.showAuthForm === 'function') {
                        try {
                            console.log('About to call showAuthForm()...');
                            window.showAuthForm();
                            console.log('showAuthForm() call completed');
                        } catch (error) {
                            console.error('Error calling showAuthForm():', error);
                        }
                    } else {
                        console.error('showAuthForm is not a function!', typeof window.showAuthForm);
                        // Try to manually show the container as fallback
                        const authContainer = document.getElementById('auth-container');
                        if (authContainer) {
                            console.log('Fallback: Manually showing auth container');
                            authContainer.style.setProperty('display', 'flex', 'important');
                            authContainer.classList.add('active', 'show');
                            document.body.style.overflow = 'hidden';
                            if (window.initializeAuthForm) {
                                window.initializeAuthForm();
                            }
                        }
                    }
                });
                console.log('Direct event listener added to login button');
            } else {
                console.warn('Login button not found for event listener');
            }
        });
    </script>
</body>
</html> 