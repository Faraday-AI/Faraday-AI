<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Faraday AI - Dashboard</title>
    <link rel="stylesheet" href="/static/css/dashboard.css">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/static/images/apple-touch-icon.png">
    <meta name="description" content="Faraday AI Dashboard - Your AI-powered educational assistant">
</head>
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="header-left">
                <h1 class="logo">Faraday AI</h1>
                <nav class="main-nav">
                    <a href="/" class="nav-link">Home</a>
                    <a href="/static/services/teacher-admin.html" class="nav-link">Services</a>
                    <a href="/static/pricing.html" class="nav-link">Pricing</a>
                </nav>
            </div>
            <div class="header-right">
                <div class="user-info">
                    <span class="user-name" id="userName">Loading...</span>
                    <button class="logout-btn" id="logoutBtn">Logout</button>
                </div>
            </div>
        </header>

        <!-- Main Dashboard Layout -->
        <div class="dashboard-layout">
            <!-- Left Sidebar - Widgets Panel -->
            <aside class="widgets-sidebar" id="widgetsSidebar">
                <div class="sidebar-resize-handle" id="sidebarResizeHandle"></div>
                <div class="sidebar-header">
                    <h2>Dashboard Widgets</h2>
                    <button class="toggle-sidebar" id="toggleSidebar" aria-label="Toggle sidebar">
                        <span class="icon">â†</span>
                    </button>
                </div>
                <div class="widgets-list" id="widgetsList">
                    <div class="widget-category">
                        <h3>Physical Education</h3>
                        <div class="widget-items">
                            <div class="widget-item" data-widget="attendance">ğŸ“Š Attendance & Analytics</div>
                            <div class="widget-item" data-widget="teams">ğŸ‘¥ Team Management</div>
                            <div class="widget-item" data-widget="adaptive">â™¿ Adaptive PE</div>
                            <div class="widget-item" data-widget="performance">ğŸ“ˆ Performance Analytics</div>
                            <div class="widget-item" data-widget="safety">ğŸ›¡ï¸ Safety & Risk Management</div>
                            <div class="widget-item" data-widget="insights">ğŸ¯ Class Insights</div>
                            <div class="widget-item" data-widget="fitness">ğŸ’ª Exercise & Fitness</div>
                            <div class="widget-item" data-widget="lesson-planning">ğŸ“‹ Lesson Planning</div>
                            <div class="widget-item" data-widget="video">ğŸ¥ Video & Movement</div>
                            <div class="widget-item" data-widget="activities">ğŸ“… Activity Management</div>
                            <div class="widget-item" data-widget="assessment">ğŸ“ Assessment & Skills</div>
                            <div class="widget-item" data-widget="psychology">ğŸ§  Sports Psychology</div>
                            <div class="widget-item" data-widget="parent-comm">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Parent Communication</div>
                            <div class="widget-item" data-widget="collaboration">ğŸ‘¥ Collaboration</div>
                            <div class="widget-item" data-widget="health">ğŸ¥ Health & Nutrition</div>
                            <div class="widget-item" data-widget="drivers-ed">ğŸš— Driver's Education</div>
                            <div class="widget-item" data-widget="management">âš™ï¸ Management Tools</div>
                        </div>
                    </div>
                    <div class="widget-category">
                        <h3>General</h3>
                        <div class="widget-items">
                            <div class="widget-item" data-widget="calendar">ğŸ“… Calendar</div>
                            <div class="widget-item" data-widget="analytics">ğŸ“Š Analytics</div>
                            <div class="widget-item" data-widget="notifications">ğŸ”” Notifications</div>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Main Content Area -->
            <main class="dashboard-main">
                <!-- AI Chat Interface -->
                <section class="chat-section" id="chatSection">
                    <div class="chat-resize-handle" id="chatResizeHandle"></div>
                    <div class="chat-header">
                        <button class="collapse-chat-btn" id="collapseChatBtn" aria-label="Collapse/Expand chat" title="Collapse/Expand chat">
                            <span class="icon" id="collapseChatIcon">â–¼</span>
                        </button>
                        <div class="avatar-container">
                            <div class="ai-avatar" id="aiAvatar">
                                <div class="avatar-face">ğŸ‘¤</div>
                                <div class="avatar-status" id="avatarStatus">â—</div>
                            </div>
                            <div class="avatar-info">
                                <h3>Your AI Assistant</h3>
                                <p class="avatar-status-text" id="avatarStatusText">Ready to help</p>
                            </div>
                        </div>
                        <div class="chat-controls">
                            <button class="control-btn" id="voiceToggle" aria-label="Toggle voice input">
                                <span class="icon">ğŸ¤</span>
                            </button>
                            <button class="control-btn" id="clearChat" aria-label="Clear chat">
                                <span class="icon">ğŸ—‘ï¸</span>
                            </button>
                            <button class="control-btn" id="logViewerBtn" aria-label="View logs" title="View application logs">
                                <span class="icon">ğŸ“‹</span>
                            </button>
                            <button class="control-btn" id="settingsBtn" aria-label="Settings">
                                <span class="icon">âš™ï¸</span>
                            </button>
                        </div>
                    </div>
                    <div class="chat-messages" id="chatMessages">
                        <div class="message ai-message">
                            <div class="message-avatar">ğŸ‘¤</div>
                            <div class="message-content">
                                <p><strong>Hello! I'm your comprehensive AI assistant for Physical Education.</strong> I have access to an extensive suite of capabilities designed to help you manage every aspect of your PE program.</p>
                                
                                <p style="margin-top: 0.75rem;"><strong>My Core Capabilities:</strong></p>
                                <ul style="margin-top: 0.5rem; padding-left: 1.5rem; text-align: left;">
                                    <li><strong>39 Physical Education Widgets</strong> - Attendance, teams, lesson planning, safety, performance analytics, exercise tracking, fitness challenges, heart rate zones, nutrition planning, parent communication, game predictions, skill assessment, sports psychology, timers, warmups, weather recommendations, video processing, workout planning, routines, activity scheduling, tracking, goals, planning, analytics, recommendations, visualization, export, collaboration, notifications, progress tracking, health & fitness, class management, student management, health metrics, engagement, safety reports, movement analysis, and more</li>
                                    <li><strong>Health Education</strong> - Health trend analysis, risk identification, and personalized health recommendations</li>
                                    <li><strong>Driver's Education</strong> - Lesson plan creation, progress tracking, safety incident management, and vehicle fleet management</li>
                                    <li><strong>Equipment Management</strong> - Maintenance prediction and intelligent checkout suggestions</li>
                                    <li><strong>Comprehensive Communication</strong> - Email and SMS messaging with automatic translation to 100+ languages for parents, students, teachers, and administrators</li>
                                    <li><strong>External Integrations</strong> - Microsoft/Azure AD authentication, Outlook Calendar sync, OpenAI AI features, Google Cloud Translation, enhanced dashboard features, and security capabilities</li>
                                    <li><strong>Advanced Analytics</strong> - Predictive analytics, pattern recognition, context-aware operations, and natural language period recognition</li>
                                </ul>
                                
                                <p style="margin-top: 0.75rem;"><strong>How it works:</strong></p>
                                <ul style="margin-top: 0.5rem; padding-left: 1.5rem; text-align: left;">
                                    <li>You can ask me to do <strong>anything</strong> - I handle all features whether widgets are on your dashboard or not</li>
                                    <li>Widget cards on your dashboard are <strong>visual displays</strong> - they show data when I return results</li>
                                    <li>If you ask for something and the widget isn't on your dashboard, I can <strong>add it automatically</strong> to show the results</li>
                                    <li>I understand natural language - use phrases like "fourth period", "Period 4", or "4th period" and I'll find the right class</li>
                                    <li>I can perform <strong>multi-step operations</strong> and remember context from our conversation</li>
                                </ul>
                                
                                <p style="margin-top: 0.75rem;"><strong>Try these examples:</strong></p>
                                <ul style="margin-top: 0.5rem; padding-left: 1.5rem; text-align: left;">
                                    <li>"Create a lesson plan on basketball fundamentals"</li>
                                    <li>"Show me attendance patterns for my fourth period class"</li>
                                    <li>"Create balanced teams for Period 3"</li>
                                    <li>"Send a progress update to Sarah's parents - translate to Spanish"</li>
                                    <li>"What can you do?" or <strong>"Give me a comprehensive list of all your capabilities"</strong></li>
                                </ul>
                                <span class="message-time">Just now</span>
                            </div>
                        </div>
                    </div>
                    <div class="chat-input-container">
                        <div class="input-wrapper">
                            <textarea 
                                id="chatInput" 
                                class="chat-input" 
                                placeholder="Type your message or click the microphone to speak..."
                                rows="1"
                            ></textarea>
                            <button class="send-btn" id="sendBtn" aria-label="Send message">
                                <span class="icon">â¤</span>
                            </button>
                        </div>
                        <div class="input-hints">
                            <span class="hint">ğŸ’¡ <strong>Tip:</strong> You can ask for any of the 39 widget features, even if they're not on your dashboard. The AI will handle it and can add the widget automatically if needed.</span>
                        </div>
                    </div>
                </section>

                <!-- Widgets Display Area -->
                <section class="widgets-section">
                    <div class="widgets-header">
                        <div class="widgets-header-left">
                            <button class="floating-sidebar-toggle" id="floatingSidebarToggle" aria-label="Open widgets sidebar" style="display: none;">
                                <span class="icon">â˜°</span>
                            </button>
                            <h2>Your Dashboard</h2>
                        </div>
                        <div class="widget-controls">
                            <button class="btn-secondary" id="addWidgetBtn">+ Add Widget</button>
                            <button class="btn-secondary" id="customizeLayoutBtn">Customize Layout</button>
                        </div>
                    </div>
                    <div class="widgets-grid" id="widgetsGrid">
                        <!-- Widgets will be dynamically added here -->
                        <div class="widget-placeholder">
                            <p>ğŸ‘‹ Start a conversation with your AI assistant to add widgets to your dashboard</p>
                            <p class="hint-text">Try saying: "Show me attendance patterns" or "Display my class insights"</p>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <!-- Log Viewer Panel -->
    <div class="log-viewer" id="logViewer">
        <div class="log-viewer-header">
            <h3>Application Logs</h3>
            <div class="log-viewer-controls">
                <button class="log-btn" id="clearLogsBtn" title="Clear logs">Clear</button>
                <button class="log-btn" id="exportLogsBtn" title="Export logs">Export</button>
                <button class="log-btn" id="closeLogViewerBtn" title="Close log viewer">&times;</button>
            </div>
        </div>
        <div class="log-viewer-filters">
            <label class="log-filter">
                <input type="checkbox" id="filterError" checked> Errors
            </label>
            <label class="log-filter">
                <input type="checkbox" id="filterWarn" checked> Warnings
            </label>
            <label class="log-filter">
                <input type="checkbox" id="filterInfo" checked> Info
            </label>
            <label class="log-filter">
                <input type="checkbox" id="filterDebug"> Debug
            </label>
        </div>
        <div class="log-viewer-content" id="logViewerContent">
            <div class="log-entry info">
                <span class="log-time">[System]</span>
                <span class="log-message">Log viewer initialized. All console messages will appear here.</span>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Dashboard Settings</h2>
                <button class="modal-close" id="closeSettingsModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="settings-section">
                    <h3>Theme</h3>
                    <div class="theme-options">
                        <label class="theme-option">
                            <input type="radio" name="theme" value="dark" checked>
                            <span>Dark</span>
                        </label>
                        <label class="theme-option">
                            <input type="radio" name="theme" value="light">
                            <span>Light</span>
                        </label>
                    </div>
                </div>
                <div class="settings-section">
                    <h3>Notifications</h3>
                    <label class="setting-item">
                        <input type="checkbox" id="enableNotifications" checked>
                        <span>Enable notifications</span>
                    </label>
                    <label class="setting-item">
                        <input type="checkbox" id="enableSounds">
                        <span>Enable sound alerts</span>
                    </label>
                </div>
                <div class="settings-section">
                    <h3>Voice Input</h3>
                    <label class="setting-item">
                        <input type="checkbox" id="enableVoiceInput" checked>
                        <span>Enable voice input</span>
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-primary" id="saveSettings">Save Settings</button>
                <button class="btn-secondary" id="cancelSettings">Cancel</button>
            </div>
        </div>
    </div>

    <script src="/static/js/dashboard.js?v=4.0"></script>
</body>
</html>

