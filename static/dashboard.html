<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Faraday AI - Dashboard</title>
    <link rel="stylesheet" href="/static/css/dashboard.css">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/static/images/apple-touch-icon.png">
    <meta name="description" content="Faraday AI Dashboard - Your AI-powered educational assistant">
</head>
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="header-left">
                <h1 class="logo">Faraday AI</h1>
                <nav class="main-nav">
                    <a href="/" class="nav-link">Home</a>
                    <a href="/static/services/teacher-admin.html" class="nav-link">Services</a>
                    <a href="/static/pricing.html" class="nav-link">Upgrade To Full Access</a>
                </nav>
            </div>
            <div class="header-right">
                <button class="theme-toggle-btn" id="themeToggleBtn" aria-label="Toggle theme" title="Toggle light/dark theme">
                    <span class="theme-icon" id="themeIcon">üåô</span>
                </button>
                <div class="user-info">
                    <span class="user-name" id="userName">Loading...</span>
                    <button class="logout-btn" id="logoutBtn">Logout</button>
                </div>
            </div>
        </header>

        <!-- Main Dashboard Layout -->
        <div class="dashboard-layout">
            <!-- Left Sidebar - Widgets Panel -->
            <aside class="widgets-sidebar" id="widgetsSidebar">
                <div class="sidebar-resize-handle" id="sidebarResizeHandle"></div>
                <div class="sidebar-header">
                    <h2>Dashboard Widgets</h2>
                    <button class="toggle-sidebar" id="toggleSidebar" aria-label="Toggle sidebar">
                        <span class="icon">‚Üê</span>
                    </button>
                </div>
                <div class="widgets-list" id="widgetsList">
                    <div class="widget-category">
                        <h3>Physical Education</h3>
                        <div class="widget-items">
                            <div class="widget-item" data-widget="attendance">üìä Attendance & Analytics</div>
                            <div class="widget-item" data-widget="teams">üë• Team Management</div>
                            <div class="widget-item" data-widget="adaptive">‚ôø Adaptive PE</div>
                            <div class="widget-item" data-widget="performance">üìà Performance Analytics</div>
                            <div class="widget-item" data-widget="safety">üõ°Ô∏è Safety & Risk Management</div>
                            <div class="widget-item" data-widget="insights">üéØ Class Insights</div>
                            <div class="widget-item" data-widget="fitness">üí™ Exercise & Fitness</div>
                            <div class="widget-item" data-widget="lesson-planning">üìã Lesson Planning</div>
                            <div class="widget-item" data-widget="video">üé• Video & Movement</div>
                            <div class="widget-item" data-widget="activities">üìÖ Activity Management</div>
                            <div class="widget-item" data-widget="assessment">üéì Assessment & Skills</div>
                            <div class="widget-item" data-widget="psychology">üß† Sports Psychology</div>
                            <div class="widget-item" data-widget="parent-comm">üë®‚Äçüë©‚Äçüëß Parent Communication</div>
                            <div class="widget-item" data-widget="collaboration">üë• Collaboration</div>
                            <div class="widget-item" data-widget="health">üè• Health & Nutrition</div>
                            <div class="widget-item" data-widget="drivers-ed">üöó Driver's Education</div>
                            <div class="widget-item" data-widget="management">‚öôÔ∏è Management Tools</div>
                        </div>
                    </div>
                    <div class="widget-category">
                        <h3>General</h3>
                        <div class="widget-items">
                            <div class="widget-item" data-widget="calendar">üìÖ Calendar</div>
                            <div class="widget-item" data-widget="analytics">üìä Analytics</div>
                            <div class="widget-item" data-widget="notifications">üîî Notifications</div>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Main Content Area -->
            <main class="dashboard-main">
                <!-- AI Chat Interface -->
                <section class="chat-section" id="chatSection">
                    <div class="chat-resize-handle" id="chatResizeHandle"></div>
                    <div class="chat-header">
                        <button class="collapse-chat-btn" id="collapseChatBtn" aria-label="Collapse/Expand chat" title="Collapse/Expand chat">
                            <span class="icon" id="collapseChatIcon">‚ñº</span>
                        </button>
                        <div class="avatar-container">
                            <div class="ai-avatar" id="aiAvatar">
                                <div class="avatar-face">üë§</div>
                                <div class="avatar-status" id="avatarStatus">‚óè</div>
                            </div>
                            <div class="avatar-info">
                                <h3>Jasper</h3>
                                <p class="avatar-status-text" id="avatarStatusText">Ready to help</p>
                            </div>
                        </div>
                        <div class="chat-controls">
                            <button class="control-btn" id="logViewerBtn" aria-label="View logs" title="View application logs">
                                <span class="icon">üìã</span>
                            </button>
                            <button class="control-btn" id="settingsBtn" aria-label="Settings">
                                <span class="icon">‚öôÔ∏è</span>
                            </button>
                        </div>
                    </div>
                    <div class="chat-messages" id="chatMessages">
                        <div class="message ai-message">
                            <div class="message-avatar">üë§</div>
                            <div class="message-content" id="openingPromptContent">
                                <p>Hello, I'm Jasper your comprehensive AI assistant for Physical Education. I have access to an extensive suite of capabilities designed to help you manage every aspect of your PE program.</p>
                                
                                <p style="margin-top: 0.75rem;"><strong>My Core Capabilities:</strong></p>
                                <ul style="margin-top: 0.5rem; padding-left: 1.5rem; text-align: left;">
                                    <li><strong>39 Physical Education Widgets</strong> - Attendance, teams, lesson planning, safety, performance analytics, exercise tracking, fitness challenges, heart rate zones, nutrition planning, parent communication, game predictions, skill assessment, sports psychology, timers, warmups, weather recommendations, video processing, workout planning, routines, activity scheduling, tracking, goals, planning, analytics, recommendations, visualization, export, collaboration, notifications, progress tracking, health & fitness, class management, student management, health metrics, engagement, safety reports, movement analysis, and more</li>
                                    <li><strong>Health Education</strong> - Health trend analysis, risk identification, and personalized health recommendations</li>
                                    <li><strong>Driver's Education</strong> - Lesson plan creation, progress tracking, safety incident management, and vehicle fleet management</li>
                                    <li><strong>Equipment Management</strong> - Maintenance prediction and intelligent checkout suggestions</li>
                                    <li><strong>Comprehensive Communication</strong> - Email and SMS messaging with automatic translation to 100+ languages for parents, students, teachers, and administrators</li>
                                    <li><strong>External Integrations</strong> - Microsoft/Azure AD authentication, Outlook Calendar sync, OpenAI AI features, Google Cloud Translation, enhanced dashboard features, and security capabilities</li>
                                    <li><strong>Advanced Analytics</strong> - Predictive analytics, pattern recognition, context-aware operations, and natural language period recognition</li>
                                </ul>
                                
                                <p style="margin-top: 0.75rem;"><strong>How it works:</strong></p>
                                <ul style="margin-top: 0.5rem; padding-left: 1.5rem; text-align: left;">
                                    <li>You can ask me to do anything - I handle all features whether widgets are on your dashboard or not</li>
                                    <li>Widget cards on your dashboard are visual displays - they show data when I return results</li>
                                    <li>If you ask for something and the widget isn't on your dashboard, I can add it automatically to show the results</li>
                                    <li>I understand natural language - use phrases like "fourth period", "Period 4", or "4th period" and I'll find the right class</li>
                                    <li>I can perform multi-step operations and remember context from our conversation</li>
                                </ul>
                                
                                <p style="margin-top: 0.75rem;"><strong>Try these examples:</strong></p>
                                <ul style="margin-top: 0.5rem; padding-left: 1.5rem; text-align: left;">
                                    <li>"Create a lesson plan on basketball fundamentals"</li>
                                    <li>"Show me attendance patterns for my fourth period class"</li>
                                    <li>"Create balanced teams for Period 3"</li>
                                    <li>"Send a progress update to Sarah's parents - translate to Spanish"</li>
                                    <li>"What can you do?" or "Give me a comprehensive list of all your capabilities"</li>
                                </ul>
                                
                                <p style="margin-top: 0.75rem;">The more comprehensive your request is, the more detailed my responses will be. All responses can be modified or enhanced further with more explicit details through our continued conversation.</p>
                                
                                <p style="margin-top: 0.5rem;"><strong>Try this comprehensive example:</strong></p>
                                <p style="margin-top: 0.5rem; font-style: italic; padding-left: 1rem; border-left: 3px solid #4CAF50;">"Create a comprehensive lesson plan for a 6th grade basketball unit that includes detailed learning objectives aligned with state standards, step-by-step activities for a 45-minute class, assessment rubrics, differentiation strategies for students with varying skill levels, safety considerations, and homework assignments. Also include Costa's Levels of Questioning examples and Danielson Framework alignment."</p>
                                
                                <p style="margin-top: 0.75rem;">But first, lets start off with your name</p>
                                <span class="message-time">Just now</span>
                            </div>
                        </div>
                    </div>
                    <div class="chat-input-container">
                        <div class="input-wrapper">
                            <div class="input-buttons-left">
                                <button class="input-btn" id="voiceToggle" aria-label="Toggle voice input" title="Voice input">
                                    <span class="icon">üé§</span>
                                </button>
                                <button class="input-btn" id="fileUploadBtn" aria-label="Upload file" title="Upload file">
                                    <span class="icon">üìé</span>
                                    <input type="file" id="fileInput" style="display: none;" multiple>
                                </button>
                                <button class="input-btn" id="photoUploadBtn" aria-label="Upload photo" title="Upload photo">
                                    <span class="icon">üì∑</span>
                                    <input type="file" id="photoInput" style="display: none;" accept="image/*" multiple>
                                </button>
                                <button class="input-btn" id="clearChat" aria-label="Clear chat" title="Clear chat">
                                    <span class="icon">üóëÔ∏è</span>
                                </button>
                            </div>
                            <textarea 
                                id="chatInput" 
                                class="chat-input" 
                                placeholder="Type your message..."
                                rows="1"
                            ></textarea>
                            <button class="send-btn" id="sendBtn" aria-label="Send message">
                                <span class="icon">‚û§</span>
                            </button>
                        </div>
                        <div class="input-hints">
                            <span class="hint">üí° <strong>Tip:</strong> You can ask for any of the 39 widget features, even if they're not on your dashboard. The AI will handle it and can add the widget automatically if needed.</span>
                        </div>
                    </div>
                </section>

                <!-- Widgets Display Area -->
                <section class="widgets-section">
                    <div class="widgets-header">
                        <div class="widgets-header-left">
                            <button class="floating-sidebar-toggle" id="floatingSidebarToggle" aria-label="Open widgets sidebar" style="display: none;">
                                <span class="icon">‚ò∞</span>
                            </button>
                            <h2>Your Dashboard</h2>
                        </div>
                        <div class="widget-controls">
                            <button class="btn-secondary" id="addWidgetBtn">+ Add Widget</button>
                            <button class="btn-secondary" id="customizeLayoutBtn">Customize Layout</button>
                        </div>
                    </div>
                    <div class="widgets-grid" id="widgetsGrid">
                        <!-- Widgets will be dynamically added here -->
                        <div class="widget-placeholder">
                            <p>üëã Start a conversation with your AI assistant to add widgets to your dashboard</p>
                            <p class="hint-text">Try saying: "Show me attendance patterns" or "Display my class insights"</p>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <!-- Log Viewer Panel -->
    <div class="log-viewer" id="logViewer">
        <div class="log-viewer-header">
            <h3>Application Logs</h3>
            <div class="log-viewer-controls">
                <button class="log-btn" id="clearLogsBtn" title="Clear logs">Clear</button>
                <button class="log-btn" id="exportLogsBtn" title="Export logs">Export</button>
                <button class="log-btn" id="closeLogViewerBtn" title="Close log viewer">&times;</button>
            </div>
        </div>
        <div class="log-viewer-filters">
            <label class="log-filter">
                <input type="checkbox" id="filterError" checked> Errors
            </label>
            <label class="log-filter">
                <input type="checkbox" id="filterWarn" checked> Warnings
            </label>
            <label class="log-filter">
                <input type="checkbox" id="filterInfo" checked> Info
            </label>
            <label class="log-filter">
                <input type="checkbox" id="filterDebug"> Debug
            </label>
        </div>
        <div class="log-viewer-content" id="logViewerContent">
            <div class="log-entry info">
                <span class="log-time">[System]</span>
                <span class="log-message">Log viewer initialized. All console messages will appear here.</span>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Dashboard Settings</h2>
                <button class="modal-close" id="closeSettingsModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="settings-section">
                    <h3>Theme & Display</h3>
                    <div class="theme-options">
                        <label class="theme-option">
                            <input type="radio" name="theme" value="dark" checked>
                            <span>Dark</span>
                        </label>
                        <label class="theme-option">
                            <input type="radio" name="theme" value="light">
                            <span>Light</span>
                        </label>
                    </div>
                    <div class="setting-item">
                        <label for="fontSize">Font Size:</label>
                        <select id="fontSize">
                            <option value="small">Small</option>
                            <option value="medium" selected>Medium</option>
                            <option value="large">Large</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label for="fontFamily">Font Family:</label>
                        <select id="fontFamily">
                            <option value="system" selected>System Default</option>
                            <option value="Arial">Arial</option>
                            <option value="Helvetica">Helvetica</option>
                            <option value="Times New Roman">Times New Roman</option>
                            <option value="Georgia">Georgia</option>
                            <option value="Verdana">Verdana</option>
                            <option value="Courier New">Courier New</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label for="accentColor">Accent Color:</label>
                        <input type="color" id="accentColor" value="#4a90e2">
                    </div>
                    <label class="setting-item">
                        <input type="checkbox" id="highContrast">
                        <span>High contrast mode</span>
                    </label>
                </div>
                <div class="settings-section">
                    <h3>Notifications</h3>
                    <label class="setting-item">
                        <input type="checkbox" id="enableNotifications" checked>
                        <span>Email notifications</span>
                    </label>
                    <label class="setting-item">
                        <input type="checkbox" id="pushNotifications" checked>
                        <span>Push notifications</span>
                    </label>
                    <label class="setting-item">
                        <input type="checkbox" id="inAppNotifications" checked>
                        <span>In-app notifications</span>
                    </label>
                    <label class="setting-item">
                        <input type="checkbox" id="smsNotifications">
                        <span>SMS notifications</span>
                    </label>
                    <label class="setting-item">
                        <input type="checkbox" id="enableSounds" checked>
                        <span>Notification sounds</span>
                    </label>
                    <div class="setting-item">
                        <label for="quietHoursStart">Quiet Hours Start:</label>
                        <input type="time" id="quietHoursStart">
                    </div>
                    <div class="setting-item">
                        <label for="quietHoursEnd">Quiet Hours End:</label>
                        <input type="time" id="quietHoursEnd">
                    </div>
                </div>
                <div class="settings-section">
                    <h3>Voice Input</h3>
                    <label class="setting-item">
                        <input type="checkbox" id="enableVoiceInput" checked>
                        <span>Enable voice input</span>
                    </label>
                </div>
                <div class="settings-section">
                    <h3>Avatar Selection</h3>
                    <div class="setting-item">
                        <label for="selectedAvatar">Choose Avatar:</label>
                        <select id="selectedAvatar">
                            <option value="">Loading avatars...</option>
                        </select>
                    </div>
                    <div id="avatarPreview" class="avatar-preview" style="display: none;">
                        <img id="avatarPreviewImage" src="" alt="Avatar preview" style="max-width: 100px; max-height: 100px; border-radius: 8px; margin-top: 0.5rem;">
                        <p id="avatarPreviewDescription" style="font-size: 0.85rem; color: var(--text-light); margin-top: 0.5rem;"></p>
                    </div>
                </div>
                <div class="settings-section">
                    <h3>Avatar Appearance</h3>
                    <div class="setting-item">
                        <label for="avatarScale">Scale:</label>
                        <input type="range" id="avatarScale" min="0.5" max="2.0" step="0.1" value="1.0">
                        <span id="avatarScaleValue">1.0</span>
                    </div>
                    <div class="setting-item">
                        <label for="avatarOpacity">Opacity:</label>
                        <input type="range" id="avatarOpacity" min="0" max="100" step="5" value="100">
                        <span id="avatarOpacityValue">100%</span>
                    </div>
                    <div class="setting-item">
                        <label for="avatarColor">Color:</label>
                        <input type="color" id="avatarColor" value="#ffffff">
                    </div>
                </div>
                <div class="settings-section">
                    <h3>AI Voice Selection</h3>
                    <div class="setting-item" style="flex-direction: column; align-items: flex-start;">
                        <label for="voiceSearch" style="width: 100%; margin-bottom: 0.5rem;">Search Voices (by name, language, or provider):</label>
                        <div style="display: flex; gap: 0.5rem; width: 100%; margin-bottom: 0.5rem;">
                            <input type="text" id="voiceSearch" placeholder="Search by voice name, language (e.g., en-US), or provider (e.g., google, microsoft)..." style="flex: 1; padding: 0.5rem; border: 1px solid var(--border-color); border-radius: var(--border-radius); background: var(--bg-secondary); color: var(--text-color);">
                            <button type="button" id="clearVoiceSearch" style="padding: 0.5rem 1rem; background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: var(--border-radius); color: var(--text-color); cursor: pointer;">Clear</button>
                        </div>
                        <label for="selectedVoice" style="width: 100%; margin-bottom: 0.5rem;">Select Voice:</label>
                        <select id="selectedVoice" size="8" style="width: 100%; margin-top: 0; padding: 0.5rem; border: 1px solid var(--border-color); border-radius: var(--border-radius); background: var(--bg-secondary); color: var(--text-color);">
                            <option value="">Loading voices...</option>
                        </select>
                        <p style="font-size: 0.75rem; color: var(--text-light); margin-top: 0.5rem;">Browse and select from 320+ available voices. Use the search box above to filter by name, language, or provider.</p>
                    </div>
                    <div id="voicePreview" class="voice-preview" style="display: none; margin-top: 0.5rem; padding: 0.75rem; background: var(--bg-secondary); border-radius: var(--border-radius);">
                        <div style="display: flex; justify-content: space-between; align-items: flex-start; gap: 1rem;">
                            <div style="flex: 1;">
                                <p style="font-size: 0.85rem; color: var(--text-light); margin: 0;">
                                    <strong id="voicePreviewName" style="color: var(--text-color);"></strong><br>
                                    <span id="voicePreviewDescription"></span>
                                </p>
                            </div>
                            <button type="button" id="voicePreviewPlayButton" style="padding: 0.5rem 1rem; background: var(--primary-color); border: none; border-radius: var(--border-radius); color: #ffffff; cursor: pointer; font-size: 0.85rem; white-space: nowrap;" onclick="const voiceData = JSON.parse(this.dataset.voiceData || '{}'); playVoiceSample(voiceData);">‚ñ∂ Play Sample</button>
                        </div>
                    </div>
                </div>
                <div class="settings-section">
                    <h3>AI Voice Output</h3>
                    <label class="setting-item">
                        <input type="checkbox" id="enableAIVoice" checked>
                        <span>Enable AI voice responses</span>
                    </label>
                    <label class="setting-item">
                        <input type="checkbox" id="enableOpeningPromptAutoplay" checked>
                        <span>Play opening prompt automatically on first click</span>
                    </label>
                    <div class="setting-item">
                        <label for="voiceSpeed">Speed:</label>
                        <input type="range" id="voiceSpeed" min="1" max="100" step="1" value="1">
                        <span id="voiceSpeedValue">1%</span>
                    </div>
                    <div class="setting-item">
                        <label for="voicePitch">Pitch:</label>
                        <input type="range" id="voicePitch" min="50" max="200" step="10" value="100">
                        <span id="voicePitchValue">100%</span>
                    </div>
                    <div class="setting-item">
                        <label for="voiceLanguage">Language:</label>
                        <select id="voiceLanguage">
                            <option value="en-US">English (US)</option>
                            <option value="en-GB">English (UK)</option>
                            <option value="es-ES">Spanish</option>
                            <option value="fr-FR">French</option>
                            <option value="de-DE">German</option>
                            <option value="it-IT">Italian</option>
                            <option value="pt-BR">Portuguese (Brazil)</option>
                            <option value="ja-JP">Japanese</option>
                            <option value="zh-CN">Chinese (Simplified)</option>
                        </select>
                    </div>
                </div>
                <div class="settings-section">
                    <h3>Language & Regional</h3>
                    <div class="setting-item">
                        <label for="language">Language:</label>
                        <select id="language">
                            <option value="en" selected>English</option>
                            <option value="es">Spanish</option>
                            <option value="fr">French</option>
                            <option value="de">German</option>
                            <option value="it">Italian</option>
                            <option value="pt">Portuguese</option>
                            <option value="ja">Japanese</option>
                            <option value="zh">Chinese</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label for="timezone">Timezone:</label>
                        <select id="timezone">
                            <option value="UTC" selected>UTC</option>
                            <option value="America/New_York">Eastern Time (ET)</option>
                            <option value="America/Chicago">Central Time (CT)</option>
                            <option value="America/Denver">Mountain Time (MT)</option>
                            <option value="America/Los_Angeles">Pacific Time (PT)</option>
                            <option value="Europe/London">London (GMT)</option>
                            <option value="Europe/Paris">Paris (CET)</option>
                            <option value="Asia/Tokyo">Tokyo (JST)</option>
                            <option value="Asia/Shanghai">Shanghai (CST)</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label for="dateFormat">Date Format:</label>
                        <select id="dateFormat">
                            <option value="YYYY-MM-DD" selected>YYYY-MM-DD</option>
                            <option value="MM/DD/YYYY">MM/DD/YYYY</option>
                            <option value="DD/MM/YYYY">DD/MM/YYYY</option>
                            <option value="MMM DD, YYYY">MMM DD, YYYY</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label for="timeFormat">Time Format:</label>
                        <select id="timeFormat">
                            <option value="24h" selected>24-hour</option>
                            <option value="12h">12-hour</option>
                        </select>
                    </div>
                </div>
                <div class="settings-section">
                    <h3>Accessibility</h3>
                    <label class="setting-item">
                        <input type="checkbox" id="reducedMotion">
                        <span>Reduce motion effects</span>
                    </label>
                    <label class="setting-item">
                        <input type="checkbox" id="screenReader">
                        <span>Screen reader support</span>
                    </label>
                </div>
                <div class="settings-section">
                    <h3>Layout</h3>
                    <div class="setting-item">
                        <label for="sidebarPosition">Sidebar Position:</label>
                        <select id="sidebarPosition">
                            <option value="left" selected>Left</option>
                            <option value="right">Right</option>
                        </select>
                    </div>
                    <label class="setting-item">
                        <input type="checkbox" id="gridView" checked>
                        <span>Grid view (uncheck for list view)</span>
                    </label>
                </div>
                <div class="settings-section">
                    <h3>Performance</h3>
                    <label class="setting-item">
                        <input type="checkbox" id="autoRefresh" checked>
                        <span>Auto-refresh dashboard</span>
                    </label>
                    <div class="setting-item">
                        <label for="refreshInterval">Refresh Interval (seconds):</label>
                        <input type="number" id="refreshInterval" min="30" max="300" step="30" value="60">
                    </div>
                </div>
                <div class="settings-section">
                    <h3>Privacy</h3>
                    <label class="setting-item">
                        <input type="checkbox" id="analyticsOptIn" checked>
                        <span>Opt-in for analytics</span>
                    </label>
                    <label class="setting-item">
                        <input type="checkbox" id="dataSharing">
                        <span>Allow data sharing</span>
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-primary" id="saveSettings">Save Settings</button>
                <button class="btn-secondary" id="cancelSettings">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Layout Customization Modal -->
    <div class="modal" id="layoutModal">
        <div class="modal-content layout-modal-content">
            <div class="modal-header">
                <h2>Customize Dashboard Layout</h2>
                <button class="modal-close" id="closeLayoutModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="layout-customization-info">
                    <p>Drag and drop widgets to reorder them. Changes will be saved automatically.</p>
                </div>
                <div class="layout-widgets-list" id="layoutWidgetsList">
                    <!-- Widgets will be dynamically added here -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" id="resetLayoutBtn">Reset to Default</button>
                <button class="btn-primary" id="saveLayoutBtn">Save Layout</button>
                <button class="btn-secondary" id="cancelLayoutBtn">Cancel</button>
            </div>
        </div>
    </div>

    <script src="/static/js/dashboard.js?v=4.0"></script>
</body>
</html>

